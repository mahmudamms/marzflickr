{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\iym_mobile\\\\SC\\\\iym_mobile\\\\screens\\\\Workpack\\\\WorkpackList.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { AsyncStorage } from \"react-native-web/dist/index\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { Block, Input, theme, Text } from \"galio-framework\";\nimport { WorkpackList, DetailMVList, Button, Filter, LoadMore } from \"../../components\";\nimport { nowTheme, detail_mrir, example_workpack, config } from \"../../constants\";\n\nvar _Dimensions$get = Dimensions.get(\"screen\"),\n    width = _Dimensions$get.width;\n\nvar Detail = function (_React$Component) {\n  _inherits(Detail, _React$Component);\n\n  var _super = _createSuper(Detail);\n\n  function Detail() {\n    var _this;\n\n    _classCallCheck(this, Detail);\n\n    _this = _super.call(this);\n    _this._isMounted = false;\n\n    _this.loadCallback = function (limit) {\n      var project = _this.state.dataLogin.project;\n      var api = _this.state.dataLogin.api;\n      var url = config.config.url + '/api/vt/list/pending/' + project + '/' + limit + '/' + _this.state.filter;\n      console.log(url);\n      console.log(api);\n      fetch(url, {\n        method: 'GET',\n        headers: new Headers({\n          'Authorization': api\n        })\n      }).then(function (response) {\n        return response.text();\n      }).then(function (data) {\n        var list_data = data;\n\n        if (list_data.slice(-1) != '}') {\n          list_data = data + '}';\n        }\n\n        list_data = JSON.parse(list_data);\n        var all_data = _this.state.listData;\n        list_data.results.forEach(function (element) {\n          all_data.push(element);\n        });\n\n        _this.setState({\n          listData: all_data,\n          isLoadData: false,\n          loadButton: list_data.results.length >= 10 ? true : false\n        });\n      });\n    };\n\n    _this.filterCallback = function (filterdata, category_template) {\n      _this.setState({\n        isLoadData: true,\n        filter: filterdata,\n        filterBy: category_template\n      });\n\n      var project = _this.state.dataLogin.project;\n      var api = _this.state.dataLogin.api;\n      var url = config.config.url + '/api/mv/list/submit/' + category_template[1] + '/' + project + '/0/' + filterdata;\n      console.log(url);\n      console.log(api);\n      fetch(url, {\n        method: 'GET',\n        headers: new Headers({\n          'Authorization': api\n        })\n      }).then(function (response) {\n        return response.text();\n      }).then(function (data) {\n        var list_data = data;\n\n        if (data.slice(-1) != '}') {\n          list_data = data + '}';\n        }\n\n        list_data = JSON.parse(list_data);\n\n        _this.setState({\n          listData: list_data.results_detail,\n          isLoadData: false,\n          loadButton: list_data.results_detail.length >= 10 ? true : false\n        });\n      });\n    };\n\n    _this.readData = function () {\n      var project = _this.state.dataLogin.project;\n      var api = _this.state.dataLogin.api;\n      var url = config.config.url + '/api/vt/list/pending/' + project + '/0';\n      console.log(url);\n      console.log(api);\n      fetch(url, {\n        method: 'GET',\n        headers: new Headers({\n          'Content-Type': 'application/json',\n          \"Accept\": \"application/json\",\n          'Authorization': api\n        })\n      }).then(function (response) {\n        return response.text();\n      }).then(function (data) {\n        var list_data = data;\n\n        if (data.slice(-1) != '}') {\n          list_data = data + '}';\n        }\n\n        list_data = JSON.parse(list_data);\n\n        _this.setState({\n          listData: list_data.results,\n          isLoading: false,\n          loadButton: list_data.results.length >= 10 ? true : false\n        });\n      }).catch(function (error) {\n        console.error(error);\n      });\n    };\n\n    _this.renderArticles = function () {\n      return React.createElement(Block, {\n        flex: true,\n        center: true,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 13\n        }\n      }, React.createElement(ScrollView, {\n        showsVerticalScrollIndicator: false,\n        contentContainerStyle: {\n          paddingBottom: 30,\n          width: width\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 17\n        }\n      }));\n    };\n\n    _this.Loading = function () {\n      return React.createElement(Block, {\n        style: {\n          flex: 1,\n          justifyContent: 'center',\n          alignItems: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 13\n        }\n      }, React.createElement(ActivityIndicator, {\n        size: \"large\",\n        color: nowTheme.COLORS.PRIMARY,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 17\n        }\n      }));\n    };\n\n    _this.state = {\n      listData: [],\n      isLoading: false,\n      isLoadData: false,\n      loadButton: false,\n      dataLogin: [],\n      filter: '',\n      category_template: '',\n      menu: '',\n      filterBy: ['Workpack_No', 'Template']\n    };\n    return _this;\n  }\n\n  _createClass(Detail, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var data_user, data_login;\n      return _regeneratorRuntime.async(function componentDidMount$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              this._isMounted = true;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem('data_user'));\n\n            case 3:\n              data_user = _context.sent;\n              data_user = JSON.parse(data_user);\n              data_login = {\n                project: data_user.project_id,\n                api: data_user.api_key,\n                menu: this.props.route.params.menu\n              };\n              this.setState({\n                dataLogin: data_login\n              });\n              return _context.abrupt(\"return\", function () {\n                isMounted = false;\n              });\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Block, {\n        flex: true,\n        center: true,\n        style: styles.home,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 13\n        }\n      }, this.state.isLoading == true ? this.Loading() : this.renderArticles());\n    }\n  }]);\n\n  return Detail;\n}(React.Component);\n\nvar styles = StyleSheet.create({\n  home: {\n    width: width\n  },\n  articles: {\n    width: width - theme.SIZES.BASE * 2,\n    paddingVertical: theme.SIZES.BASE,\n    paddingHorizontal: 2,\n    fontFamily: 'montserrat-regular'\n  }\n});\nexport default Detail;","map":{"version":3,"sources":["C:/xampp/htdocs/iym_mobile/SC/iym_mobile/screens/Workpack/WorkpackList.js"],"names":["React","AsyncStorage","Block","Input","theme","Text","WorkpackList","DetailMVList","Button","Filter","LoadMore","nowTheme","detail_mrir","example_workpack","config","Dimensions","get","width","Detail","_isMounted","loadCallback","limit","project","state","dataLogin","api","url","filter","console","log","fetch","method","headers","Headers","then","response","text","data","list_data","slice","JSON","parse","all_data","listData","results","forEach","element","push","setState","isLoadData","loadButton","length","filterCallback","filterdata","category_template","filterBy","results_detail","readData","isLoading","catch","error","renderArticles","paddingBottom","Loading","flex","justifyContent","alignItems","COLORS","PRIMARY","menu","getItem","data_user","data_login","project_id","api_key","props","route","params","isMounted","styles","home","Component","StyleSheet","create","articles","SIZES","BASE","paddingVertical","paddingHorizontal","fontFamily"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport { \n    ActivityIndicator,\n    AsyncStorage,\n    Dimensions,\n    StyleSheet, \n    ScrollView \n} from \"react-native\";\n\nimport { \n    Block, \n    Input, \n    theme, \n    Text \n} from \"galio-framework\";\n\nimport { WorkpackList, DetailMVList, Button, Filter, LoadMore } from \"../../components\";\nimport { nowTheme, detail_mrir, example_workpack, config } from \"../../constants\";\nconst { width } = Dimensions.get(\"screen\");\n\nclass Detail extends React.Component {\n\n    _isMounted = false;\n\n    constructor() {\n        super();\n        // console.log();\n\n        this.state = {\n          listData: [],\n          isLoading: false,\n          isLoadData: false,\n          loadButton: false,\n          dataLogin: [],\n          filter: '',\n          category_template: '',\n          menu: '',\n          filterBy: ['Workpack_No', 'Template'],\n        };\n    }\n\n    async componentDidMount() {\n        this._isMounted = true;\n\n        var data_user = await AsyncStorage.getItem('data_user');\n        var data_user = JSON.parse(data_user);\n\n        var data_login = {\n            project: data_user.project_id,\n            api: data_user.api_key,\n            menu: this.props.route.params.menu,\n        }\n\n        this.setState({dataLogin: data_login});\n\n        // this.readData()\n\n        return () => { isMounted = false };\n    }\n\n    componentWillUnmount() {\n        this._isMounted = false;\n    }\n\n    loadCallback = (limit) =>{\n\n        var project = this.state.dataLogin.project;\n        var api     = this.state.dataLogin.api;\n\n        var url = config.config.url + '/api/vt/list/pending/' + project + '/' + limit + '/' + this.state.filter;\n\n        console.log(url);\n        console.log(api);\n    \n        fetch(url, {\n            method: 'GET',\n            headers: new Headers({\n                'Authorization': api\n            }),\n        })\n        .then((response) => response.text())\n        .then(data =>{\n\n            var list_data = data;\n        \n            if(list_data.slice(-1) != '}'){\n                list_data = data + '}';\n            }\n\n            list_data = JSON.parse(list_data);\n\n            var all_data = this.state.listData;\n\n            list_data.results.forEach(element => {\n                all_data.push(element);\n            });\n\n            this.setState({\n                listData: all_data,\n                isLoadData: false,\n                loadButton: (list_data.results.length >= 10 ? true : false),\n            });\n\n        });\n    }\n\n    filterCallback = (filterdata, category_template) => {\n        this.setState({\n            isLoadData : true,\n            filter: filterdata,\n            filterBy: category_template,\n        });\n\n        var project   = this.state.dataLogin.project;\n        var api       = this.state.dataLogin.api;\n\n        var url = config.config.url + '/api/mv/list/submit/' + category_template[1] + '/' + project + '/0/' + filterdata;\n\n        console.log(url);\n        console.log(api);\n    \n        fetch(url, {\n            method: 'GET',\n            headers: new Headers({\n                'Authorization': api\n            }),\n        })\n        .then((response) => response.text())\n        .then(data =>{\n\n            var list_data = data;\n        \n            if(data.slice(-1) != '}'){\n                list_data = data + '}';\n            }\n\n            list_data = JSON.parse(list_data);\n\n            this.setState({\n                listData: list_data.results_detail,\n                isLoadData: false,\n                loadButton: (list_data.results_detail.length >= 10 ? true : false),\n            });\n\n        });\n    }\n\n    readData = () => {\n        var project = this.state.dataLogin.project;\n        var api     = this.state.dataLogin.api;\n\n        var url = config.config.url + '/api/vt/list/pending/' + project + '/0';\n\n        console.log(url);\n        console.log(api);\n\n        fetch(url, {\n            method: 'GET',\n            headers: new Headers({\n                'Content-Type': 'application/json',\n                \"Accept\": \"application/json\",\n                'Authorization': api,\n            }),\n        })\n        .then((response) => response.text())\n        .then((data) =>{\n\n            var list_data = data;\n        \n            if(data.slice(-1) != '}'){\n                list_data = data + '}';\n            }\n\n            list_data = JSON.parse(list_data);\n\n            this.setState({\n                listData: list_data.results,\n                isLoading: false,\n                loadButton: (list_data.results.length >= 10 ? true : false)\n            });\n        }).catch((error) => {\n            console.error(error);\n        });\n    }\n\n    renderArticles = () => {\n\n        return (\n            <Block flex center>\n                <ScrollView\n                    showsVerticalScrollIndicator={false}\n                    contentContainerStyle={{ paddingBottom: 30, width }}\n                >\n                </ScrollView>\n            </Block>\n        );\n    };\n\n    Loading = function(){\n        return(\n            <Block style={{ flex: 1, justifyContent: 'center', alignItems: 'center'  }}>\n                <ActivityIndicator size=\"large\" color={nowTheme.COLORS.PRIMARY} />\n            </Block>\n        );\n    }\n\n    render() {\n        return (\n            <Block flex center style={styles.home}>\n                { this.state.isLoading == true ? this.Loading() : this.renderArticles() }\n            </Block>\n        );\n    }\n}\n\nconst styles = StyleSheet.create({\n  home: {\n    width: width\n  },\n  articles: {\n    width: width - theme.SIZES.BASE * 2,\n    paddingVertical: theme.SIZES.BASE,\n    paddingHorizontal: 2,\n    fontFamily: 'montserrat-regular'\n\n  }\n});\n\nexport default Detail;\n"]},"metadata":{},"sourceType":"module"}