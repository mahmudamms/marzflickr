{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\iym_mobile\\\\SC\\\\iym_mobile\\\\components\\\\Filter.js\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { AsyncStorage } from \"react-native-web/dist/index\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport Picker from \"react-native-web/dist/exports/Picker\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport View from \"react-native-web/dist/exports/View\";\nimport PropTypes from 'prop-types';\nimport { Block, Button, Input, Text, theme } from 'galio-framework';\nimport SearchableDropdown from 'react-native-searchable-dropdown';\nimport Icon from \"./Icon\";\nimport Divider from \"./Divider\";\nimport Select from \"./Select\";\nimport { nowTheme, config, detail_mrir } from \"../constants\";\nimport Autocomplete from \"./AutocompleteOri\";\n\nvar _Dimensions$get = Dimensions.get(\"screen\"),\n    height = _Dimensions$get.height,\n    width = _Dimensions$get.width;\n\nvar DismissKeyboard = function DismissKeyboard(_ref) {\n  var children = _ref.children;\n  return React.createElement(TouchableWithoutFeedback, {\n    onPress: function onPress() {\n      return Keyboard.dismiss();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 3\n    }\n  }, children);\n};\n\nvar FilterBar = function (_React$Component) {\n  _inherits(FilterBar, _React$Component);\n\n  var _super = _createSuper(FilterBar);\n\n  function FilterBar(props) {\n    var _this2;\n\n    _classCallCheck(this, FilterBar);\n\n    _this2 = _super.call(this);\n    _this2._isMounted = false;\n\n    _this2.setData = function (val, prop) {\n      var state = _this2.state;\n      state['isChanged'] = true;\n\n      _this2.setState(state);\n\n      state[prop] = val;\n      state[prop].index = 0;\n      state['isChanged'] = false;\n\n      _this2.setState(state);\n    };\n\n    _this2.readDiscipline = function () {\n      var project = _this2.state.dataLogin.project;\n      var api = _this2.state.dataLogin.api;\n      var url = config.config.url + '/api/discipline/';\n      console.log(url);\n      console.log(api);\n      fetch(url, {\n        method: 'GET',\n        headers: new Headers({\n          'Authorization': api\n        })\n      }).then(function (response) {\n        return response.text();\n      }).then(function (data) {\n        var list_data = data;\n\n        if (data.slice(-1) != '}') {\n          list_data = data + '}';\n        }\n\n        list_data = JSON.parse(list_data);\n        var dt = {\n          id: '',\n          name: 'All'\n        };\n        list_data.data.unshift(dt);\n\n        _this2.setState({\n          disciplineList: list_data.data\n        });\n      }).catch(function (error) {\n        console.error(error);\n      });\n    };\n\n    _this2.filterClicked = function () {\n      _this2.setState({\n        isLoading: true\n      });\n\n      var module = _this2.state.Module.id != undefined ? _this2.state.Module.id : '';\n      var discipline = _this2.state.Discipline.id != undefined ? _this2.state.Discipline.id : '';\n      var data = module + 'xx' + discipline + 'xx';\n\n      _this2.props.filterClicked(data);\n\n      setTimeout(function () {\n        _this2.setState({\n          isLoading: false\n        });\n      }, 2000);\n    };\n\n    _this2.collapseShow = function () {\n      _this2.setState({\n        isShow: !_this2.state.isShow\n      });\n    };\n\n    _this2.getSearch = function (text) {\n      _this2.setState({\n        isChanged: true,\n        searchList: []\n      });\n\n      if (text) {\n        var project = _this2.state.dataLogin.project;\n        var api = _this2.state.dataLogin.api;\n        var search = text;\n        var category = _this2.state.category;\n        category = category.split('-');\n        var url = '';\n\n        if (category[0] == 'MRIR') {\n          url = config.config.url + '/api/mrir/list/pending/' + category[1] + '/ac/' + search;\n        }\n\n        console.log(url);\n        console.log(api);\n        fetch(url, {\n          method: 'GET',\n          headers: new Headers({\n            'Authorization': api\n          })\n        }).then(function (response) {\n          return response.text();\n        }).then(function (data) {\n          var list_data = data;\n\n          if (data.slice(-1) != '}') {\n            list_data = data + '}';\n          }\n\n          list_data = JSON.parse(list_data);\n\n          _this2.setState({\n            searchList: list_data.results\n          });\n        }).catch(function (error) {\n          console.error(error);\n        });\n      }\n\n      _this2.setState({\n        isChanged: false\n      });\n    };\n\n    _this2.testCallBack = function (text) {\n      console.log(text);\n    };\n\n    _this2.state = {\n      isShow: false,\n      category: '',\n      menu: '',\n      disciplineList: [],\n      searchList: [],\n      isChanged: false,\n      dataLogin: [],\n      discipline: [],\n      acSelected: [],\n      dataSearch: [],\n      filterBy: [],\n      Search: {},\n      Module: {},\n      Discipline: {},\n      Drawing_type: {},\n      Batch: {},\n      isLoading: false\n    };\n    return _this2;\n  }\n\n  _createClass(FilterBar, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var data_user, data_login;\n      return _regeneratorRuntime.async(function componentDidMount$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              this._isMounted = true;\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem('data_user'));\n\n            case 3:\n              data_user = _context.sent;\n              data_user = JSON.parse(data_user);\n              data_login = {\n                project: data_user.project_id,\n                api: data_user.api_key\n              };\n              this.setState({\n                dataLogin: data_login,\n                menu: this.props.menu,\n                filterBy: this.props.filterBy\n              });\n              return _context.abrupt(\"return\", function () {\n                isMounted = false;\n              });\n\n            case 8:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(DismissKeyboard, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 7\n        }\n      }, React.createElement(Block, {\n        style: {\n          width: width / 1.1,\n          marginTop: 20,\n          marginBottom: 5\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 9\n        }\n      }, React.createElement(Block, {\n        style: {\n          backgroundColor: nowTheme.COLORS.WHITE,\n          borderRadius: 8\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 11\n        }\n      }, React.createElement(Block, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 13\n        }\n      }, React.createElement(TouchableOpacity, {\n        onPress: function onPress() {\n          return _this3.collapseShow();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 15\n        }\n      }, React.createElement(Block, {\n        row: true,\n        style: styles.cardDescription,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 19\n        }\n      }, React.createElement(Block, {\n        style: {\n          width: '50%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 23\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontFamily: 'montserrat-bold'\n        },\n        color: nowTheme.COLORS.SECONDARY,\n        size: 15,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 27\n        }\n      }, \"Filter\")), React.createElement(Block, {\n        right: true,\n        style: {\n          width: '50%'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 23\n        }\n      }, React.createElement(Icon, {\n        size: 20,\n        color: nowTheme.COLORS.SECONDARY,\n        name: this.state.isShow == true ? \"arrow-up-circle\" : \"arrow-down-circle\",\n        family: \"Feather\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 269,\n          columnNumber: 27\n        }\n      })))), React.createElement(Block, {\n        style: {\n          paddingBottom: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 280,\n          columnNumber: 15\n        }\n      }, React.createElement(Block, {\n        style: {\n          width: width / 1.10,\n          paddingHorizontal: 15\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 17\n        }\n      }, React.createElement(Divider, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 19\n        }\n      })))), this.state.isShow == true ? React.createElement(Block, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 13\n        }\n      }, this.props.filterBy.map(function (item, index) {\n        var arr_data = _this3.state[item];\n        var text_replace = item.replace('_', ' ');\n        return React.createElement(Block, {\n          key: index,\n          style: styles.pickerStyle,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 21\n          }\n        }, React.createElement(Block, {\n          style: {\n            paddingBottom: 10\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 23\n          }\n        }, React.createElement(Text, {\n          style: {\n            fontFamily: 'montserrat-bold'\n          },\n          color: nowTheme.COLORS.SECONDARY,\n          size: 14,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 298,\n            columnNumber: 25\n          }\n        }, text_replace, \" :\")), _this3.state.isChanged == false ? React.createElement(Block, {\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 23\n          }\n        }, React.createElement(Autocomplete, {\n          onItemSelect: function onItemSelect(itemSelect) {\n            _this3.setData(itemSelect, item);\n          },\n          textInputValue: Object.keys(arr_data).length === 0 ? '' : arr_data.name,\n          itemStyle: {\n            padding: 10,\n            marginTop: 2,\n            backgroundColor: '#ddd',\n            borderColor: '#bbb',\n            borderWidth: 1,\n            borderRadius: 5,\n            fontFamily: 'montserrat-bold'\n          },\n          itemTextStyle: {\n            color: '#222',\n            fontFamily: 'montserrat-bold'\n          },\n          category: item,\n          menu: _this3.state.menu,\n          itemsContainerStyle: {\n            maxHeight: 140\n          },\n          resetValue: false,\n          textInputProps: {\n            placeholder: \"Search \" + text_replace,\n            underlineColorAndroid: \"transparent\",\n            style: {\n              paddingVertical: 5,\n              paddingHorizontal: 15,\n              borderWidth: 1,\n              borderColor: nowTheme.COLORS.GRAY,\n              borderRadius: 5,\n              fontFamily: 'montserrat-bold'\n            }\n          },\n          listProps: {\n            nestedScrollEnabled: true\n          },\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 25\n          }\n        })) : null);\n      }), React.createElement(Block, {\n        center: true,\n        style: {\n          paddingBottom: 15\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 15\n        }\n      }, React.createElement(Button, {\n        onPress: function onPress() {\n          return _this3.filterClicked();\n        },\n        style: {\n          width: width / 1.2\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 17\n        }\n      }, this.state.isLoading ? React.createElement(ActivityIndicator, {\n        size: \"large\",\n        color: nowTheme.COLORS.WHITE,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 23\n        }\n      }) : React.createElement(Text, {\n        style: {\n          fontFamily: 'montserrat-bold'\n        },\n        color: nowTheme.COLORS.WHITE,\n        size: 14,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 23\n        }\n      }, \"Search\")))) : React.createElement(Block, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 385,\n          columnNumber: 15\n        }\n      }))));\n    }\n  }]);\n\n  return FilterBar;\n}(React.Component);\n\nFilterBar.defaultProps = {\n  shadowless: false,\n  success: false,\n  error: false,\n  primary: false\n};\nFilterBar.propTypes = {\n  shadowless: PropTypes.bool,\n  success: PropTypes.bool,\n  error: PropTypes.bool,\n  primary: PropTypes.bool\n};\nvar styles = StyleSheet.create({\n  input: {\n    borderWidth: 1.5,\n    borderRadius: 5,\n    backgroundColor: '#ddd',\n    borderColor: nowTheme.COLORS.BORDER,\n    height: 44,\n    justifyContent: 'center'\n  },\n  success: {\n    borderColor: nowTheme.COLORS.INPUT_SUCCESS\n  },\n  error: {\n    borderColor: nowTheme.COLORS.INPUT_ERROR\n  },\n  primary: {\n    borderColor: nowTheme.COLORS.PRIMARY\n  },\n  shadow: {\n    shadowColor: nowTheme.COLORS.BLACK,\n    shadowOffset: {\n      width: 0,\n      height: 0.5\n    },\n    shadowRadius: 1,\n    shadowOpacity: 0.13,\n    elevation: 2\n  },\n  cardDescription: {\n    padding: theme.SIZES.BASE / 1\n  },\n  pickerStyle: {\n    paddingHorizontal: theme.SIZES.BASE / 1,\n    paddingBottom: theme.SIZES.BASE / 1.5,\n    borderRadius: 4,\n    borderColor: nowTheme.COLORS.BLACK\n  },\n  autocompleteContainer: {\n    flex: 1\n  }\n});\nexport default FilterBar;","map":{"version":3,"sources":["C:/xampp/htdocs/iym_mobile/SC/iym_mobile/components/Filter.js"],"names":["React","AsyncStorage","PropTypes","Block","Button","Input","Text","theme","SearchableDropdown","Icon","Divider","Select","nowTheme","config","detail_mrir","Autocomplete","Dimensions","get","height","width","DismissKeyboard","children","Keyboard","dismiss","FilterBar","props","_isMounted","setData","val","prop","state","setState","index","readDiscipline","project","dataLogin","api","url","console","log","fetch","method","headers","Headers","then","response","text","data","list_data","slice","JSON","parse","dt","id","name","unshift","disciplineList","catch","error","filterClicked","isLoading","module","Module","undefined","discipline","Discipline","setTimeout","collapseShow","isShow","getSearch","isChanged","searchList","search","category","split","results","testCallBack","menu","acSelected","dataSearch","filterBy","Search","Drawing_type","Batch","getItem","data_user","data_login","project_id","api_key","isMounted","marginTop","marginBottom","backgroundColor","COLORS","WHITE","borderRadius","styles","cardDescription","fontFamily","SECONDARY","paddingBottom","paddingHorizontal","map","item","arr_data","text_replace","replace","pickerStyle","itemSelect","Object","keys","length","padding","borderColor","borderWidth","color","maxHeight","placeholder","underlineColorAndroid","style","paddingVertical","GRAY","nestedScrollEnabled","Component","defaultProps","shadowless","success","primary","propTypes","bool","StyleSheet","create","input","BORDER","justifyContent","INPUT_SUCCESS","INPUT_ERROR","PRIMARY","shadow","shadowColor","BLACK","shadowOffset","shadowRadius","shadowOpacity","elevation","SIZES","BASE","autocompleteContainer","flex"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport { \n  Animated,\n  ActivityIndicator,\n  AsyncStorage,\n  Dimensions,\n  StyleSheet,\n  Image, \n  Keyboard,\n  Picker,\n  FlatList,\n  ScrollView,\n  TouchableOpacity,\n  TouchableWithoutFeedback,\n  View\n} from 'react-native';\n\nimport PropTypes from 'prop-types';\n\nimport { Block, Button, Input, Text, theme } from 'galio-framework';\n\nimport SearchableDropdown from 'react-native-searchable-dropdown';\n\nimport Icon from './Icon';\nimport Divider from './Divider';\n// import Input from './Input';\nimport Select from './Select';\n\nimport { nowTheme, config, detail_mrir } from \"../constants\";\n\nimport Autocomplete from './AutocompleteOri';\n\nconst { height, width } = Dimensions.get(\"screen\");\n\nconst DismissKeyboard = ({ children }) => (\n  <TouchableWithoutFeedback onPress={() => Keyboard.dismiss()}>{children}</TouchableWithoutFeedback>\n);\n\nclass FilterBar extends React.Component {\n\n  _isMounted = false;\n  \n  constructor(props) {\n    super();\n\n    this.state = {\n      isShow: false,\n      category: '',\n      menu: '',\n      disciplineList: [],\n      searchList: [],\n      isChanged: false,\n      dataLogin: [],\n      discipline: [],\n      acSelected: [],\n      dataSearch: [],\n      filterBy: [],\n\n      Search: {},\n      Module: {},\n      Discipline: {},\n      Drawing_type: {},\n      Batch: {},\n\n      isLoading : false,\n    };\n    \n  }\n\n  async componentDidMount() {\n\n    this._isMounted = true;\n\n    var data_user = await AsyncStorage.getItem('data_user');\n    var data_user = JSON.parse(data_user);\n\n    var data_login = {\n        project: data_user.project_id,\n        api: data_user.api_key,\n    }\n\n    this.setState({\n      dataLogin: data_login,\n      menu: this.props.menu,\n      filterBy: this.props.filterBy,\n    });\n\n    // console.log(this.state.category);\n\n    return () => { isMounted = false };\n  }\n\n  componentWillUnmount() {\n    this._isMounted = false;\n  }\n\n  setData = (val, prop) => {\n\n    const state = this.state;\n\n    state['isChanged'] = true;\n    this.setState(state);\n\n    state[prop] = val;\n\n    state[prop].index = 0;\n\n    state['isChanged'] = false;\n    this.setState(state);\n\n    // console.log(this.state.Module);\n\n  }\n\n  readDiscipline = () => {\n\n    var project = this.state.dataLogin.project;\n    var api     = this.state.dataLogin.api;\n\n    var url = config.config.url + '/api/discipline/';\n\n    console.log(url);\n    console.log(api);\n\n    fetch(url, {\n        method: 'GET',\n        headers: new Headers({\n            'Authorization': api\n        }),\n    })\n    .then((response) => response.text())\n    .then(data =>{\n\n      var list_data = data;\n        \n      if(data.slice(-1) != '}'){\n          list_data = data + '}';\n      }\n\n      list_data = JSON.parse(list_data);\n      \n      var dt = {\n        id: '',\n        name: 'All',\n      }\n\n      list_data.data.unshift(dt);\n\n      this.setState({\n        disciplineList: list_data.data,\n      })\n    }).catch((error) => {\n      console.error(error);\n    });\n  }\n\n  filterClicked = () => {\n\n    this.setState({isLoading: true});\n\n    // var search        = (this.state.Search.id != undefined ? this.state.Search.id : '');\n    var module        = (this.state.Module.id != undefined ? this.state.Module.id : '');\n    var discipline    = (this.state.Discipline.id != undefined ? this.state.Discipline.id : '');\n\n    var data = module + 'xx' + discipline + 'xx'; \n\n    this.props.filterClicked(data);\n\n    setTimeout(() => {\n      this.setState({\n        isLoading: false\n      })\n    }, 2000);\n\n  }\n\n  collapseShow = () => {\n    this.setState({\n      isShow: !this.state.isShow\n    })\n  }\n\n  getSearch = (text) => {\n\n    this.setState({\n      isChanged: true,\n      searchList: [],\n    });\n\n    if(text){\n\n      var project = this.state.dataLogin.project;\n      var api     = this.state.dataLogin.api;\n      var search  = text;\n\n      var category = this.state.category;\n          category = category.split('-');\n\n      var url = '';\n\n      if(category[0] == 'MRIR'){\n        url = config.config.url + '/api/mrir/list/pending/'+category[1]+'/ac/'+search;\n      }\n\n      console.log(url);\n      console.log(api);\n\n      fetch(url, {\n          method: 'GET',\n          headers: new Headers({\n              'Authorization': api\n          }),\n      })\n      .then((response) => response.text())\n      .then(data =>{\n\n        var list_data = data;\n          \n        if(data.slice(-1) != '}'){\n            list_data = data + '}';\n        }\n\n        list_data = JSON.parse(list_data);\n\n        this.setState({\n          searchList: list_data.results,\n        })\n\n      }).catch((error) => {\n        console.error(error);\n      });\n    }\n\n    this.setState({\n      isChanged: false,\n    });\n    \n  }\n\n  testCallBack = (text) => {\n    console.log(text);\n  }\n  \n  render() {\n\n    return (\n      \n      <DismissKeyboard>\n        <Block style={{width: width / 1.1, marginTop: 20, marginBottom: 5}}>\n          <Block style={{backgroundColor: nowTheme.COLORS.WHITE, borderRadius: 8}}>\n            <Block>\n              <TouchableOpacity onPress={() => this.collapseShow()}>\n                  <Block row style={styles.cardDescription}>\n                      \n                      <Block style={{width: '50%'}}>\n                          <Text\n                              style={{\n                                  fontFamily: 'montserrat-bold'\n                              }}\n                              color={nowTheme.COLORS.SECONDARY}\n                              size={15}\n                          >\n                              Filter\n                          </Text>\n                      </Block>\n\n                      <Block right style={{width: '50%'}}>\n                          <Icon\n                              size={20}\n                              color={nowTheme.COLORS.SECONDARY}\n                              name={ this.state.isShow == true ? \"arrow-up-circle\" : \"arrow-down-circle\"}\n                              family=\"Feather\"\n                          />\n                      </Block>\n\n                  </Block>\n              </TouchableOpacity>\n              \n              <Block style={{paddingBottom: 20}}>\n                <Block style={{width: width / 1.10, paddingHorizontal: 15}}>\n                  <Divider />\n                </Block>\n              </Block>\n\n            </Block>\n\n            { this.state.isShow == true ? (\n            \n            <Block>\n              { \n                this.props.filterBy.map((item, index) => {\n                  var arr_data = this.state[item];\n                  var text_replace = item.replace('_', ' ');\n                  return(\n                    <Block key={index} style={styles.pickerStyle}>\n                      <Block style={{paddingBottom: 10}}>\n                        <Text\n                            style={{\n                                fontFamily: 'montserrat-bold'\n                            }}\n                            color={nowTheme.COLORS.SECONDARY}\n                            size={14}\n                        >\n                            {text_replace} :\n                        </Text>\n                      </Block>\n                      \n                      { this.state.isChanged == false ? (\n                      <Block>\n                        <Autocomplete\n                          onItemSelect={(itemSelect) => {\n                            this.setData(itemSelect, item)\n                          }}\n                          textInputValue={Object.keys(arr_data).length === 0 ? '' : arr_data.name}\n                          itemStyle={{\n                            padding: 10,\n                            marginTop: 2,\n                            backgroundColor: '#ddd',\n                            borderColor: '#bbb',\n                            borderWidth: 1,\n                            borderRadius: 5,\n                            fontFamily: 'montserrat-bold',\n                          }}\n                          itemTextStyle={{ \n                            color: '#222', \n                            fontFamily: 'montserrat-bold',\n                          }}\n                          category={item}\n                          menu={this.state.menu}\n                          itemsContainerStyle={{ maxHeight: 140 }}\n                          resetValue={false}\n                          textInputProps={\n                            {\n                              placeholder: \"Search \" + text_replace,\n                              underlineColorAndroid: \"transparent\",\n                              style: {\n                                  paddingVertical: 5,\n                                  paddingHorizontal: 15,\n                                  borderWidth: 1,\n                                  borderColor: nowTheme.COLORS.GRAY,\n                                  borderRadius: 5,\n                                  fontFamily: 'montserrat-bold',\n                              },\n                            }\n                          }\n                          listProps={\n                            {\n                              nestedScrollEnabled: true,\n                            }\n                          }\n                        />\n                      </Block>\n                      ): null }\n                    </Block>\n                  );\n                })\n              }                     \n\n              <Block center style={{paddingBottom: 15}}>\n                <Button \n                  onPress={() => this.filterClicked()}\n                  style={{width: width / 1.2}}\n                >\n                  {\n                    this.state.isLoading ? (\n                      <ActivityIndicator size=\"large\" color={nowTheme.COLORS.WHITE} />\n                    ) : (\n                      <Text\n                        style={{\n                            fontFamily: 'montserrat-bold'\n                        }}\n                        color={nowTheme.COLORS.WHITE}\n                        size={14}\n                      >\n                        Search\n                      </Text>\n                    )\n                  }\n\n                </Button>\n              </Block>\n\n            </Block>\n          ) : <Block />}\n          </Block>\n        </Block>\n      </DismissKeyboard>\n    );\n  }\n}\n\nFilterBar.defaultProps = {\n  shadowless: false,\n  success: false,\n  error: false,\n  primary: false\n};\n\nFilterBar.propTypes = {\n  shadowless: PropTypes.bool,\n  success: PropTypes.bool,\n  error: PropTypes.bool,\n  primary: PropTypes.bool\n}\n\nconst styles = StyleSheet.create({\n  input: {\n    borderWidth: 1.5,\n    borderRadius: 5,\n    backgroundColor: '#ddd',\n    borderColor: nowTheme.COLORS.BORDER,\n    height: 44,\n    justifyContent: 'center',\n  },\n  success: {\n    borderColor: nowTheme.COLORS.INPUT_SUCCESS\n  },\n  error: {\n    borderColor: nowTheme.COLORS.INPUT_ERROR\n  },\n  primary: {\n    borderColor: nowTheme.COLORS.PRIMARY\n  },\n  shadow: {\n    shadowColor: nowTheme.COLORS.BLACK,\n    shadowOffset: { width: 0, height: 0.5 },\n    shadowRadius: 1,\n    shadowOpacity: 0.13,\n    elevation: 2,\n  },\n  cardDescription: {\n    padding: theme.SIZES.BASE / 1\n  },\n  pickerStyle: {\n    paddingHorizontal: theme.SIZES.BASE / 1,\n    paddingBottom: theme.SIZES.BASE / 1.5,\n    borderRadius: 4,\n    borderColor: nowTheme.COLORS.BLACK,\n  },\n  autocompleteContainer: {\n    flex: 1,\n    // zIndex: 1\n  },\n});\n\nexport default FilterBar;\n"]},"metadata":{},"sourceType":"module"}