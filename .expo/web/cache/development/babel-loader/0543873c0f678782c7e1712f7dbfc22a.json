{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\iym_mobile\\\\SC\\\\iym_mobile\\\\screens\\\\Home.js\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { AsyncStorage } from \"react-native-web/dist/index\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport { Block, Card, theme, Icon, color, Button as Btn } from \"galio-framework\";\nimport { Text, GradientHeader } from \"../components\";\nimport nowTheme from \"../constants/Theme\";\nimport config from \"../constants/config\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\n\nvar _Dimensions$get = Dimensions.get(\"screen\"),\n    height = _Dimensions$get.height,\n    width = _Dimensions$get.width;\n\nvar iconColor = '#c2ffc2';\n\nvar DismissKeyboard = function DismissKeyboard(_ref) {\n  var children = _ref.children;\n  return React.createElement(TouchableWithoutFeedback, {\n    onPress: function onPress() {\n      return Keyboard.dismiss();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 3\n    }\n  }, children);\n};\n\nvar Home = function (_React$Component) {\n  _inherits(Home, _React$Component);\n\n  var _super = _createSuper(Home);\n\n  function Home() {\n    var _this2;\n\n    _classCallCheck(this, Home);\n\n    _this2 = _super.call(this);\n    _this2._isMounted = false;\n\n    _this2.readData = function () {\n      var api = _this2.state.data_user.api_key;\n      var offset = _this2.state.offset;\n      var filter = 'xx';\n      var url = config.config.url + '/api/iym/newest_issue/' + offset;\n      fetch(url, {\n        method: 'GET',\n        headers: new Headers({\n          'Content-Type': 'application/json',\n          \"Accept\": \"application/json\",\n          'Authorization': api\n        })\n      }).then(function (response) {\n        return response.text();\n      }).then(function (data) {\n        var list_data = data;\n\n        if (data.slice(-1) != '}') {\n          list_data = data + '}';\n        }\n\n        list_data = JSON.parse(list_data);\n\n        _this2.setState({\n          list_data: list_data.results,\n          isLoading: false\n        });\n      }).catch(function (error) {\n        console.error(error);\n      });\n    };\n\n    _this2.Loading = function () {\n      return React.createElement(Block, {\n        style: {\n          justifyContent: 'center',\n          marginTop: 100,\n          alignItems: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 7\n        }\n      }, React.createElement(ActivityIndicator, {\n        size: \"large\",\n        color: nowTheme.COLORS.PRIMARY,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 9\n        }\n      }));\n    };\n\n    _this2.renderHeader = function () {\n      return React.createElement(GradientHeader, {\n        datauser: _this2.state.data_user,\n        title: '',\n        menu: 'Home',\n        back: false,\n        gradientColor: nowTheme.COLORS.GRADIENT,\n        borderRadius: 50,\n        profile: true,\n        headerHeight: 200,\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 7\n        }\n      });\n    };\n\n    _this2.renderContent = function () {\n      return React.createElement(Block, {\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 7\n        }\n      }, React.createElement(Block, {\n        left: true,\n        style: {\n          top: -260,\n          paddingLeft: 10\n        },\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 11\n        }\n      }, React.createElement(Button, {\n        onPress: function onPress() {\n          return _this2.props.navigation.navigate('Add List', {\n            title: 'Add List'\n          });\n        },\n        style: {\n          backgroundColor: \"#c2ffc2\"\n        },\n        name: _this2.state.showMaster ? \"arrow-up-circle\" : \"arrow-down-circle\",\n        title: \"Add New Case\",\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 15\n        }\n      })), React.createElement(Block, {\n        center: true,\n        style: {\n          top: -235,\n          paddingBottom: 150\n        },\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }\n      }, React.createElement(ScrollView, {\n        style: {\n          flex: 1\n        },\n        showsVerticalScrollIndicator: false,\n        keyboardShouldPersistTaps: \"handled\",\n        contentContainerStyle: '',\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 13\n        }\n      }, _this2.state.list_data.map(function (item, index) {\n        return _this2.renderItem(item, index);\n      }))));\n    };\n\n    _this2.renderButtonUpdate = function (item) {\n      if (item.create_by == _this2.state.data_user.id_user) {\n        return React.createElement(Block, {\n          style: {\n            width: '20%'\n          },\n          __self: _assertThisInitialized(_this2),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 9\n          }\n        }, React.createElement(Btn, {\n          onlyIcon: true,\n          icon: 'edit',\n          iconFamily: \"Feather\",\n          iconSize: 20,\n          color: 'info',\n          iconColor: \"#fff\",\n          style: {\n            width: 40,\n            height: 40,\n            marginTop: 20\n          },\n          onPress: function onPress() {\n            return _this2.props.navigation.navigate('Update List', {\n              title: 'Update List',\n              running_number: item.running_number\n            });\n          },\n          __self: _assertThisInitialized(_this2),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 11\n          }\n        }, \"warning\"));\n      }\n    };\n\n    _this2.renderItem = function (item, index) {\n      var link = '';\n      var maxLength = 250;\n      var case_data = item.case;\n      var original_length = case_data.length;\n      var trimmedString_v = case_data.substr(0, maxLength);\n\n      if (original_length <= maxLength) {\n        var trimmedString = trimmedString_v;\n      } else {\n        var trimmedString = 'No Data Available';\n      }\n\n      return React.createElement(Block, {\n        key: index,\n        style: {\n          paddingBottom: 10\n        },\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 7\n        }\n      }, React.createElement(TouchableWithoutFeedback, {\n        onPress: function onPress() {\n          return _this2.props.navigation.navigate('Detail List', {\n            title: 'Detail List',\n            data_issue: item.running_number\n          });\n        },\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 9\n        }\n      }, React.createElement(Block, {\n        card: true,\n        style: {\n          width: width / 1.1,\n          backgroundColor: nowTheme.COLORS.WHITE\n        },\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 219,\n          columnNumber: 11\n        }\n      }, React.createElement(Block, {\n        row: true,\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }\n      }, React.createElement(Block, {\n        style: {\n          width: '20%',\n          padding: 10\n        },\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 221,\n          columnNumber: 15\n        }\n      }, React.createElement(Image, {\n        source: require(\"../assets/imgs/list_default.png\"),\n        style: {\n          height: 50,\n          width: 50,\n          padding: 10,\n          resizeMode: 'stretch'\n        },\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 18\n        }\n      })), React.createElement(Block, {\n        style: {\n          width: '60%',\n          padding: 10\n        },\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 15\n        }\n      }, React.createElement(Block, {\n        style: {\n          width: '100%'\n        },\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 15\n        }\n      }, React.createElement(Text, {\n        size: 10,\n        color: nowTheme.COLORS.GRAY,\n        title: 'Case No : ' + item.running_number,\n        bold: true,\n        left: true,\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 19\n        }\n      })), React.createElement(Block, {\n        style: {\n          width: '100%'\n        },\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        size: 9,\n        color: nowTheme.COLORS.GRAY,\n        title: 'By : ' + item.create_by_full_name + ', ' + item.create_date,\n        bold: true,\n        left: true,\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 236,\n          columnNumber: 19\n        }\n      })), React.createElement(Block, {\n        style: {\n          width: '100%'\n        },\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        size: 9,\n        color: nowTheme.COLORS.GRAY,\n        title: 'Case : ' + trimmedString,\n        bold: true,\n        left: true,\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 19\n        }\n      }))), _this2.renderButtonUpdate(item)))));\n    };\n\n    _this2.state = {\n      role: [],\n      data_user: [],\n      isLoaded: false,\n      list_data: [],\n      offset: 0\n    };\n    return _this2;\n  }\n\n  _createClass(Home, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var data_user;\n      return _regeneratorRuntime.async(function componentDidMount$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              this.setState({\n                isLoaded: true\n              });\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem('data_user'));\n\n            case 3:\n              data_user = _context.sent;\n              data_user = JSON.parse(data_user);\n              this.setState({\n                role: data_user.role,\n                data_user: data_user,\n                isLoaded: false\n              });\n              this.readData();\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(DismissKeyboard, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 7\n        }\n      }, React.createElement(Block, {\n        flex: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 9\n        }\n      }, this.renderHeader(), this.renderContent()));\n    }\n  }]);\n\n  return Home;\n}(React.Component);\n\nvar styles = StyleSheet.create({\n  articles: {\n    width: width - theme.SIZES.BASE * 2,\n    paddingVertical: theme.SIZES.BASE,\n    paddingHorizontal: 2,\n    fontFamily: 'montserrat-regular'\n  }\n});\nexport default Home;","map":{"version":3,"sources":["C:/xampp/htdocs/iym_mobile/SC/iym_mobile/screens/Home.js"],"names":["React","AsyncStorage","Block","Card","theme","Icon","color","Button","Btn","Text","GradientHeader","nowTheme","config","Dimensions","get","height","width","iconColor","DismissKeyboard","children","Keyboard","dismiss","Home","_isMounted","readData","api","state","data_user","api_key","offset","filter","url","fetch","method","headers","Headers","then","response","text","data","list_data","slice","JSON","parse","setState","results","isLoading","catch","error","console","Loading","justifyContent","marginTop","alignItems","COLORS","PRIMARY","renderHeader","GRADIENT","renderContent","top","paddingLeft","props","navigation","navigate","title","backgroundColor","showMaster","paddingBottom","flex","map","item","index","renderItem","renderButtonUpdate","create_by","id_user","running_number","link","maxLength","case_data","case","original_length","length","trimmedString_v","substr","trimmedString","data_issue","WHITE","padding","require","resizeMode","GRAY","create_by_full_name","create_date","role","isLoaded","getItem","Component","styles","StyleSheet","create","articles","SIZES","BASE","paddingVertical","paddingHorizontal","fontFamily"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport { \n  ActivityIndicator,\n  AsyncStorage, \n  Dimensions,\n  FlatList,\n  Keyboard,\n  StyleSheet, \n  ScrollView,\n  View, Button,\n  Image, \n} from \"react-native\";\n\n\nimport {  Block, Card, theme, Icon, color, Button as Btn } from \"galio-framework\";\n\nimport { Text, GradientHeader } from \"../components\";\nimport nowTheme from \"../constants/Theme\";\nimport config from \"../constants/config\";\n\n\nimport { TouchableWithoutFeedback } from \"react-native\";\nconst { height, width } = Dimensions.get(\"screen\");\n\nvar iconColor = '#c2ffc2';\n\nconst DismissKeyboard = ({ children }) => (\n  <TouchableWithoutFeedback onPress={() => Keyboard.dismiss()}>{children}</TouchableWithoutFeedback>\n);\n\n\nclass Home extends React.Component {\n  _isMounted = false;\n\n  constructor() {\n    super();\n    this.state = {\n      role: [],\n      data_user: [],\n      isLoaded: false,\n      list_data: [],\n      offset: 0,\n    };\n  }\n\n  async componentDidMount() {\n    this.setState({isLoaded: true});\n\n    var data_user = await AsyncStorage.getItem('data_user');\n    var data_user = JSON.parse(data_user);\n\n    this.setState({\n      role: data_user.role,\n      data_user: data_user,\n      isLoaded: false,\n    });\n\n    this.readData();\n  }\n\n  readData = () => {\n\n    // var project     = this.state.data_user.project;\n    var api         = this.state.data_user.api_key;\n    var offset      = this.state.offset;\n\n    var filter = 'xx';\n\n    var url = config.config.url + '/api/iym/newest_issue/' + offset;\n  \n    fetch(url, {\n        method: 'GET', \n        headers: new Headers({\n            'Content-Type': 'application/json',\n            \"Accept\": \"application/json\",\n            'Authorization': api,\n        }),\n    })\n    .then((response) => response.text())\n    .then((data) =>{\n\n        var list_data = data;\n    \n        if(data.slice(-1) != '}'){\n            list_data = data + '}';\n        }\n\n        list_data = JSON.parse(list_data);\n\n        this.setState({\n            list_data: list_data.results,\n            isLoading: false,\n        });\n\n    }).catch((error) => {\n        console.error(error);\n    });\n}\n\n  Loading = function(){\n    return(\n      <Block style={{ justifyContent: 'center', marginTop: 100, alignItems: 'center' }}>\n        <ActivityIndicator size=\"large\" color={nowTheme.COLORS.PRIMARY} />\n      </Block>\n    );\n  }\n\n  render() {\n    return (\n      <DismissKeyboard>\n        <Block flex>\n          { this.renderHeader() }\n          \n          { this.renderContent() }\n        \n        </Block>\n      </DismissKeyboard>\n    );\n  }\n\n  renderHeader = () => {\n    return (\n      <GradientHeader \n        datauser={this.state.data_user}\n        title={''}\n        menu={'Home'}\n        back={false}\n        gradientColor={nowTheme.COLORS.GRADIENT}\n        borderRadius={50}\n        profile={true}\n        headerHeight={200}\n      />\n    )\n  }\n\n  renderContent = () => {\n    return(\n      <Block>\n          <Block left style={{top: -260,paddingLeft:10}}>\n              <Button \n                    onPress={() => this.props.navigation.navigate('Add List', {                       \n                      title: 'Add List',\n                    })}\n                    style={{backgroundColor: \"#c2ffc2\"}}\n                    name={ this.state.showMaster ? \"arrow-up-circle\" : \"arrow-down-circle\"}\n                    title=\"Add New Case\"\n              />\n          </Block>\n          <Block center style={{top: -235, paddingBottom: 150}}>  \n            <ScrollView  style={{flex:1}}\n              showsVerticalScrollIndicator={false}\n              keyboardShouldPersistTaps='handled'\n              contentContainerStyle={''}\n            >\n                {\n                    this.state.list_data.map((item, index) => {\n                        return this.renderItem(item,index) \n                    })\n                }   \n            </ScrollView>\n          </Block>\n          \n      </Block> \n    )\n  }\n\n  renderButtonUpdate = (item) => {\n    if(item.create_by==this.state.data_user.id_user){\n      return (\n        <Block style={{width: '20%'}}>\n          <Btn \n            onlyIcon\n            icon={'edit'} \n            iconFamily=\"Feather\"\n            iconSize={20}\n            color={'info'}\n            iconColor=\"#fff\"\n            style={{ width: 40, height: 40, marginTop: 20 }}\n            onPress={() => this.props.navigation.navigate('Update List', {                       \n              title: 'Update List', \n              running_number: item.running_number,\n            })}\n            >\n            warning\n          </Btn>\n        </Block>\n      )\n    }\n    \n  }\n\n  renderItem = (item, index) => {\n  \n    var link = '';\n    var maxLength = 250 \n    var case_data = item.case;\n    var original_length = case_data.length;\n    var trimmedString_v = case_data.substr(0, maxLength);\n    if(original_length <= maxLength){      \n      var trimmedString = trimmedString_v;\n    } else {\n      var trimmedString = 'No Data Available';\n    }\n\n    //console.log(index)\n    //trimmedString = trimmedString.substr(0, Math.min(trimmedString.length, trimmedString.lastIndexOf(\" \")));\n    \n    return( \n      <Block key={index} style={{paddingBottom: 10}}>\n      \n        <TouchableWithoutFeedback\n           onPress={() => this.props.navigation.navigate('Detail List', {                       \n            title: 'Detail List',\n            data_issue: item.running_number,\n          })}\n        >\n\n          <Block card style={{width: width / 1.1, backgroundColor: nowTheme.COLORS.WHITE}}>\n            <Block row>\n              <Block style={{width: '20%', padding:10}}>\n                 <Image source={require('../assets/imgs/list_default.png')} style = {{height: 50, width: 50, padding: 10, resizeMode : 'stretch',}} />\n              </Block>\n\n              <Block style={{width: '60%', padding:10}}>\n              <Block style={{width: '100%'}}>\n                  <Text\n                    size={10}\n                    color={nowTheme.COLORS.GRAY}\n                    title={'Case No : '+ item.running_number}\n                    bold\n                    left\n                  />\n                </Block>\n                <Block style={{width: '100%'}}>\n                  <Text\n                    size={9}\n                    color={nowTheme.COLORS.GRAY}\n                    title={'By : '+ item.create_by_full_name+', '+item.create_date}\n                    bold\n                    left\n                  />\n                </Block>\n                <Block style={{width: '100%'}}>\n                  <Text\n                    size={9}\n                    color={nowTheme.COLORS.GRAY}\n                    title={'Case : '+ trimmedString}\n                    bold\n                    left\n                  />\n                </Block>\n                \n                \n                \n              </Block>\n              {this.renderButtonUpdate(item)}\n\n            </Block>\n           \n\n           \n          </Block>\n        </TouchableWithoutFeedback>\n      </Block>\n    )\n  }\n\n}\n\nconst styles = StyleSheet.create({\n  articles: {\n    width: width - theme.SIZES.BASE * 2,\n    paddingVertical: theme.SIZES.BASE,\n    paddingHorizontal: 2,\n    fontFamily: 'montserrat-regular'\n\n  }\n});\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}