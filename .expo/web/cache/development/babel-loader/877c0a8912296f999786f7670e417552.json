{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\iym_mobile\\\\SC\\\\iym_mobile\\\\screens\\\\Detail\\\\Detail_fu.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport axios from \"axios\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { AsyncStorage } from \"react-native-web/dist/index\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport { Block, Input, theme, Text } from \"galio-framework\";\nimport { DetailFUList, Icon, Button, Filter, LoadMore } from \"../../components\";\nimport { nowTheme, detail_mrir, config } from \"../../constants\";\n\nvar _Dimensions$get = Dimensions.get(\"screen\"),\n    width = _Dimensions$get.width;\n\nvar Detail = function (_React$Component) {\n  _inherits(Detail, _React$Component);\n\n  var _super = _createSuper(Detail);\n\n  function Detail() {\n    var _this;\n\n    _classCallCheck(this, Detail);\n\n    _this = _super.call(this);\n\n    _this.loadCallback = function (limit) {\n      var project = _this.state.dataLogin.project;\n      var api = _this.state.dataLogin.api;\n      var url = config.config.url + '/api/fu/list/pending/' + project + '/' + limit + '/' + _this.state.filter;\n      console.log(url);\n      console.log(api);\n      fetch(url, {\n        method: 'GET',\n        headers: new Headers({\n          'Authorization': api\n        })\n      }).then(function (response) {\n        return response.text();\n      }).then(function (data) {\n        var list_data = data;\n\n        if (list_data.slice(-1) != '}') {\n          list_data = data + '}';\n        }\n\n        list_data = JSON.parse(list_data);\n        var all_data = _this.state.listData;\n        list_data.results.forEach(function (element) {\n          all_data.push(element);\n        });\n\n        _this.setState({\n          listData: all_data,\n          isLoadData: false,\n          buttonLoad: list_data.results.length >= 10 ? true : false\n        });\n      });\n    };\n\n    _this.filterCallback = function (filterdata) {\n      _this.setState({\n        isLoadData: true,\n        filter: filterdata\n      });\n\n      var project = _this.state.dataLogin.project;\n      var api = _this.state.dataLogin.api;\n      var url = config.config.url + '/api/fu/list/pending/' + project + '/0/' + filterdata;\n      console.log(url);\n      console.log(api);\n      fetch(url, {\n        method: 'GET',\n        headers: new Headers({\n          'Authorization': api\n        })\n      }).then(function (response) {\n        return response.text();\n      }).then(function (data) {\n        var list_data = data;\n\n        if (data.slice(-1) != '}') {\n          list_data = data + '}';\n        }\n\n        list_data = JSON.parse(list_data);\n\n        _this.setState({\n          listData: list_data.results,\n          isLoadData: false,\n          buttonLoad: list_data.results.length >= 10 ? true : false\n        });\n      });\n    };\n\n    _this.readData = function _callee() {\n      var project, api, url;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              project = _this.state.dataLogin.project;\n              api = _this.state.dataLogin.api;\n              url = config.config.url + '/api/fu/list/pending/' + project + '/0';\n              console.log(url);\n              console.log(api);\n              _context.next = 7;\n              return _regeneratorRuntime.awrap(fetch(url, {\n                method: 'GET',\n                headers: new Headers({\n                  'Content-Type': 'application/json',\n                  \"Accept\": \"application/json\",\n                  'Authorization': api\n                })\n              }).then(function (response) {\n                return response.text();\n              }).then(function (data) {\n                var list_data = data;\n\n                if (data.slice(-1) != '}') {\n                  list_data = data + '}';\n                }\n\n                list_data = JSON.parse(list_data);\n\n                _this.setState({\n                  listData: list_data.results,\n                  isLoading: false,\n                  buttonLoad: list_data.results.length >= 10 ? true : false\n                });\n              }).catch(function (error) {\n                console.error(error);\n              }));\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.renderArticles = function () {\n      return React.createElement(Block, {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 13\n        }\n      }, React.createElement(Filter, {\n        filterClicked: _this.filterCallback,\n        filterBy: ['Module', 'Discipline', 'Batch'],\n        menu: 'FU',\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 17\n        }\n      }), React.createElement(ScrollView, {\n        showsVerticalScrollIndicator: false,\n        contentContainerStyle: styles.articles,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 17\n        }\n      }, React.createElement(Block, {\n        flex: true,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 21\n        }\n      }, _this.state.listData.map(function (item, index) {\n        return React.createElement(Block, {\n          flex: true,\n          row: true,\n          key: index,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 33\n          }\n        }, React.createElement(DetailFUList, {\n          item: item,\n          horizontal: true,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 37\n          }\n        }));\n      })), _this.state.buttonLoad == true ? React.createElement(LoadMore, {\n        limit: _this.state.listData.length + 1,\n        ButtonClicked: _this.loadCallback,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 29\n        }\n      }) : null));\n    };\n\n    _this.Loading = function () {\n      return React.createElement(Block, {\n        style: {\n          flex: 1,\n          justifyContent: 'center',\n          alignItems: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 223,\n          columnNumber: 9\n        }\n      }, React.createElement(ActivityIndicator, {\n        size: \"large\",\n        color: nowTheme.COLORS.PRIMARY,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 224,\n          columnNumber: 13\n        }\n      }));\n    };\n\n    _this.loadData = function _callee2(limit) {\n      var category, data_user, url, api;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n\n              _this.setState({\n                isLoadData: true\n              });\n\n              category = _this.props.route.params.category;\n              _context2.next = 5;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem('data_user'));\n\n            case 5:\n              data_user = _context2.sent;\n              data_user = JSON.parse(data_user);\n\n              if (_this.state.search) {\n                url = config.config.url + '/api/fu/list/pending/' + data_user.project_id + '/' + limit + '/' + _this.state.search;\n              } else {\n                url = config.config.url + '/api/fu/list/pending/' + data_user.project_id + '/' + limit;\n              }\n\n              api = data_user.api_key;\n              console.log(url);\n              console.log(api);\n              _context2.next = 13;\n              return _regeneratorRuntime.awrap(fetch(url, {\n                method: 'GET',\n                headers: new Headers({\n                  'Authorization': api\n                })\n              }).then(function (response) {\n                return response.json();\n              }).then(function (data) {\n                var list_data = _this.state.listData;\n                var dt_response = data.results;\n                dt_response.forEach(function (element) {\n                  list_data.push(element);\n                });\n\n                if (data.results.length == 10) {\n                  var status = true;\n                } else {\n                  var status = false;\n                }\n\n                _this.setState({\n                  listData: list_data,\n                  isLoadData: false,\n                  buttonLoad: true\n                });\n              }));\n\n            case 13:\n              _context2.next = 17;\n              break;\n\n            case 15:\n              _context2.prev = 15;\n              _context2.t0 = _context2[\"catch\"](0);\n\n            case 17:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, [[0, 15]], Promise);\n    };\n\n    _this.loadMore = function () {\n      return React.createElement(Block, {\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 13\n        }\n      }, React.createElement(Button, {\n        color: \"primary\",\n        size: \"large\",\n        onPress: function onPress() {\n          return _this.loadData(_this.state.listData.length + 1);\n        },\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 17\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontFamily: 'montserrat-bold'\n        },\n        size: 14,\n        color: nowTheme.COLORS.WHITE,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 21\n        }\n      }, _this.state.isLoadData == true ? React.createElement(ActivityIndicator, {\n        size: \"large\",\n        color: nowTheme.COLORS.WHITE,\n        __self: _assertThisInitialized(_this),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 58\n        }\n      }) : 'Load More')));\n    };\n\n    console.log();\n    _this.state = {\n      listData: [],\n      isLoading: true,\n      buttonLoad: false,\n      dataLogin: [],\n      filter: ''\n    };\n    return _this;\n  }\n\n  _createClass(Detail, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var data_user, data_login;\n      return _regeneratorRuntime.async(function componentDidMount$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem('data_user'));\n\n            case 2:\n              data_user = _context3.sent;\n              data_user = JSON.parse(data_user);\n              data_login = {\n                project: data_user.project_id,\n                api: data_user.api_key\n              };\n              this.setState({\n                dataLogin: data_login\n              });\n              this.readData();\n\n            case 7:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Block, {\n        flex: true,\n        center: true,\n        style: styles.home,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 13\n        }\n      }, this.state.isLoading == true ? this.Loading() : this.renderArticles());\n    }\n  }]);\n\n  return Detail;\n}(React.Component);\n\nvar styles = StyleSheet.create({\n  home: {\n    width: width\n  },\n  articles: {\n    width: width - theme.SIZES.BASE * 2,\n    paddingVertical: theme.SIZES.BASE,\n    paddingHorizontal: 2,\n    fontFamily: 'montserrat-regular'\n  }\n});\nexport default Detail;","map":{"version":3,"sources":["C:/xampp/htdocs/iym_mobile/SC/iym_mobile/screens/Detail/Detail_fu.js"],"names":["React","axios","AsyncStorage","Block","Input","theme","Text","DetailFUList","Icon","Button","Filter","LoadMore","nowTheme","detail_mrir","config","Dimensions","get","width","Detail","loadCallback","limit","project","state","dataLogin","api","url","filter","console","log","fetch","method","headers","Headers","then","response","text","data","list_data","slice","JSON","parse","all_data","listData","results","forEach","element","push","setState","isLoadData","buttonLoad","length","filterCallback","filterdata","readData","isLoading","catch","error","renderArticles","styles","articles","map","item","index","Loading","flex","justifyContent","alignItems","COLORS","PRIMARY","loadData","category","props","route","params","getItem","data_user","search","project_id","api_key","json","dt_response","status","loadMore","fontFamily","WHITE","data_login","home","Component","StyleSheet","create","SIZES","BASE","paddingVertical","paddingHorizontal"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport axios from \"axios\";\n\nimport { \n    ActivityIndicator,\n    AsyncStorage,\n    Dimensions,\n    StyleSheet, \n    ScrollView \n} from \"react-native\";\n\nimport { \n    Block, \n    Input, \n    theme, \n    Text \n} from \"galio-framework\";\n\nimport { DetailFUList, Icon, Button, Filter, LoadMore } from \"../../components\";\nimport { nowTheme, detail_mrir, config } from \"../../constants\";\nconst { width } = Dimensions.get(\"screen\");\n\nclass Detail extends React.Component {\n\n    constructor() {\n        super();\n        console.log();\n\n        this.state = {\n          listData: [],\n          isLoading: true,\n          buttonLoad: false,\n          dataLogin: [],\n          filter: '',\n        };\n    }\n\n    async componentDidMount() {\n        var data_user = await AsyncStorage.getItem('data_user');\n        var data_user = JSON.parse(data_user);\n\n        var data_login = {\n            project: data_user.project_id,\n            api: data_user.api_key,\n        }\n\n        this.setState({dataLogin: data_login});\n\n        this.readData()\n    }\n\n    loadCallback = (limit) =>{\n\n        var project = this.state.dataLogin.project;\n        var api     = this.state.dataLogin.api;\n\n        var url = config.config.url + '/api/fu/list/pending/' + project + '/' + limit + '/' + this.state.filter;\n\n        console.log(url);\n        console.log(api);\n    \n        fetch(url, {\n            method: 'GET',\n            headers: new Headers({\n                'Authorization': api\n            }),\n        })\n        .then((response) => response.text())\n        .then(data =>{\n\n            var list_data = data;\n        \n            if(list_data.slice(-1) != '}'){\n                list_data = data + '}';\n            }\n\n            list_data = JSON.parse(list_data);\n\n            var all_data = this.state.listData;\n\n            list_data.results.forEach(element => {\n                all_data.push(element);\n            });\n\n            this.setState({\n                listData: all_data,\n                isLoadData: false,\n                buttonLoad: (list_data.results.length >= 10 ? true : false),\n            });\n\n        });\n    }\n\n    filterCallback = (filterdata) => {\n        this.setState({\n            isLoadData : true,\n            filter: filterdata,\n        });\n\n        var project   = this.state.dataLogin.project;\n        var api       = this.state.dataLogin.api;\n\n        var url = config.config.url + '/api/fu/list/pending/' + project + '/0/' + filterdata;\n\n        console.log(url);\n        console.log(api);\n    \n        fetch(url, {\n            method: 'GET',\n            headers: new Headers({\n                'Authorization': api\n            }),\n        })\n        .then((response) => response.text())\n        .then(data =>{\n\n            var list_data = data;\n        \n            if(data.slice(-1) != '}'){\n                list_data = data + '}';\n            }\n\n            list_data = JSON.parse(list_data);\n\n            this.setState({\n                listData: list_data.results,\n                isLoadData: false,\n                buttonLoad: (list_data.results.length >= 10 ? true : false),\n            });\n\n        });\n    }\n\n    readData = async() => {\n        var project = this.state.dataLogin.project;\n        var api     = this.state.dataLogin.api;\n\n        var url = config.config.url + '/api/fu/list/pending/' + project + '/0';\n\n        console.log(url);\n        console.log(api);\n    \n        await fetch(url, {\n            method: 'GET',\n            headers: new Headers({\n                'Content-Type': 'application/json',\n                \"Accept\": \"application/json\",\n                'Authorization': api,\n            }),\n        })\n        .then((response) => response.text())\n        .then(data => {\n\n            var list_data = data;\n    \n            if(data.slice(-1) != '}'){\n                list_data = data + '}';\n            }\n\n            list_data = JSON.parse(list_data);\n\n            this.setState({\n                listData: list_data.results,\n                isLoading: false,\n                buttonLoad: (list_data.results.length >= 10 ? true : false)\n            });\n\n        }).catch((error) => {\n            console.error(error)\n        })\n    }\n\n    renderArticles = () => {\n        return (\n            <Block>\n\n                <Filter \n                    filterClicked={this.filterCallback}\n                    filterBy={[\n                        'Module',\n                        'Discipline',\n                        'Batch'\n                    ]}\n                    menu={'FU'}\n                />\n\n                <ScrollView\n                    showsVerticalScrollIndicator={false}\n                    contentContainerStyle={styles.articles}\n                >\n                    <Block flex>\n                    {\n                        this.state.listData.map((item, index) => {\n                        // detail_mrir.map((item, index) => {\n                            return(\n                                <Block flex row key={index}>\n                                    <DetailFUList \n                                        item={item}\n                                        horizontal \n                                    />\n                                </Block>\n                            );\n                        })\n                    }\n                    </Block>\n\n                    {\n                        this.state.buttonLoad == true ? (\n                            <LoadMore \n                                limit={this.state.listData.length + 1}\n                                ButtonClicked={this.loadCallback}\n                            />\n                        ) : null\n                    }\n                </ScrollView>\n            </Block>\n        );\n    };\n\n    Loading = function(){\n        return(\n        <Block style={{ flex: 1, justifyContent: 'center', alignItems: 'center'  }}>\n            <ActivityIndicator size=\"large\" color={nowTheme.COLORS.PRIMARY} />\n        </Block>\n        );\n    }\n\n    loadData = async(limit) => {\n        try{\n\n            this.setState({\n                isLoadData : true,\n                // buttonLoad: false,\n            });\n\n            var category = this.props.route.params.category;\n\n            var data_user = await AsyncStorage.getItem('data_user');\n            var data_user = JSON.parse(data_user);\n\n            if(this.state.search){\n                var url = config.config.url + '/api/fu/list/pending/' + data_user.project_id + '/' + limit + '/' + this.state.search;\n            } else {\n                var url = config.config.url + '/api/fu/list/pending/' + data_user.project_id + '/' + limit;\n            }\n\n            var api = data_user.api_key;\n\n            console.log(url);\n            console.log(api);\n        \n            await fetch(url, {\n                method: 'GET',\n                headers: new Headers({\n                    'Authorization': api\n                }),\n            })\n            .then((response) => response.json())\n            .then(data =>{\n                var list_data = this.state.listData;\n                var dt_response = data.results;\n\n                dt_response.forEach(element => {\n                    list_data.push(element);\n                });\n\n                if(data.results.length == 10){\n                    var status = true;\n                } else {\n                    var status = false;\n                }\n\n                this.setState({\n                    listData: list_data,\n                    isLoadData: false,\n                    buttonLoad: true,\n                });\n\n            });\n        } catch(e){\n\n        }\n    }\n\n    loadMore = () => {\n        return(\n            <Block>\n                <Button \n                    color=\"primary\" \n                    size='large'\n                    onPress={ () => this.loadData(this.state.listData.length + 1) }\n                >\n                    <Text\n                        style={{ fontFamily: 'montserrat-bold' }}\n                        size={14}\n                        color={nowTheme.COLORS.WHITE}\n                    >\n                        {this.state.isLoadData == true ? <ActivityIndicator size=\"large\" color={nowTheme.COLORS.WHITE} /> : 'Load More' }\n\n                    </Text>\n                </Button>\n            </Block>\n        );\n    }\n\n    render() {\n        return (\n            <Block flex center style={styles.home}>\n                { this.state.isLoading == true ? this.Loading() : this.renderArticles() }\n            </Block>\n        );\n    }\n}\n\nconst styles = StyleSheet.create({\n  home: {\n    width: width\n  },\n  articles: {\n    width: width - theme.SIZES.BASE * 2,\n    paddingVertical: theme.SIZES.BASE,\n    paddingHorizontal: 2,\n    fontFamily: 'montserrat-regular'\n\n  }\n});\n\nexport default Detail;\n"]},"metadata":{},"sourceType":"module"}