{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nvar _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\iym_mobile\\\\SC\\\\iym_mobile\\\\screens\\\\Camera\\\\Camera.js\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from \"react\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { AsyncStorage } from \"react-native-web/dist/index\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Picker from \"react-native-web/dist/exports/Picker\";\nimport View from \"react-native-web/dist/exports/View\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport { Block, Input, theme } from \"galio-framework\";\nimport { Camera } from 'expo-camera';\nimport { Autocomplete, WorkpackList, ContentDetail, GradientHeader, DetailMVList, Button, Icon, Filter, Select, LoadMore, Text } from \"../../components\";\nimport { nowTheme, detail_mrir, example_workpack_detail, config } from \"../../constants\";\n\nvar _Dimensions$get = Dimensions.get(\"screen\"),\n    height = _Dimensions$get.height,\n    width = _Dimensions$get.width;\n\nvar camera = Camera;\nvar iconColor = '#6FBE6F';\nvar gradientColor = ['#0BAB64', '#83D475'];\n\nvar Detail = function (_React$Component) {\n  _inherits(Detail, _React$Component);\n\n  var _super = _createSuper(Detail);\n\n  function Detail(props) {\n    var _this;\n\n    _classCallCheck(this, Detail);\n\n    _this = _super.call(this, props);\n    _this._isMounted = false;\n\n    _this.renderCamera = function () {\n      if (_this.state.capturedImage) {\n        return React.createElement(Block, {\n          style: {\n            backgroundColor: 'transparent',\n            flex: 1,\n            width: '100%',\n            height: '100%'\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 11\n          }\n        }, React.createElement(ImageBackground, {\n          source: {\n            uri: _this.state.photoName && _this.state.photoName.uri\n          },\n          style: {\n            flex: 1\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 13\n          }\n        }, React.createElement(Block, {\n          style: {\n            flex: 1,\n            flexDirection: 'column',\n            padding: 15,\n            justifyContent: 'flex-end'\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 17\n          }\n        }, React.createElement(Block, {\n          row: true,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 21\n          }\n        }, React.createElement(Block, {\n          style: {\n            style: '50%'\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 25\n          }\n        }, React.createElement(Button, {\n          style: {\n            backgroundColor: nowTheme.COLORS.WHITE\n          },\n          onPress: function onPress() {\n            return _this.retakePicture();\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 29\n          }\n        }, React.createElement(Text, {\n          title: 'Re-Take',\n          bold: true,\n          color: nowTheme.COLORS.GRAY,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 33\n          }\n        }))), React.createElement(Block, {\n          style: {\n            style: '50%'\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }\n        }, React.createElement(Button, {\n          style: {\n            backgroundColor: nowTheme.COLORS.WHITE\n          },\n          onPress: function onPress() {\n            return _this.sendImage();\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 29\n          }\n        }, React.createElement(Text, {\n          title: 'Send',\n          bold: true,\n          color: nowTheme.COLORS.GRAY,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 31\n          }\n        })))))));\n      } else {\n        return React.createElement(Camera, {\n          style: {\n            flex: 1,\n            justifyContent: 'center'\n          },\n          type: _this.state.typeCamera,\n          ref: function ref(_ref) {\n            _this.camera = _ref;\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 11\n          }\n        }, React.createElement(Block, {\n          style: {\n            flex: 1,\n            justifyContent: 'flex-end',\n            marginBottom: 50\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 13\n          }\n        }, React.createElement(Block, {\n          center: true,\n          style: {\n            width: width / 1.1\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 15\n          }\n        }, React.createElement(Block, {\n          row: true,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 19\n          }\n        }, React.createElement(Block, {\n          style: {\n            width: '20%',\n            justifyContent: 'center'\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 23\n          }\n        }, React.createElement(Block, {\n          center: true,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 27\n          }\n        }, React.createElement(TouchableOpacity, {\n          onPress: function onPress() {\n            _this.props.navigation.goBack();\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146,\n            columnNumber: 31\n          }\n        }, React.createElement(Icon, {\n          size: 40,\n          color: nowTheme.COLORS.WHITE,\n          name: \"arrow-left-circle\",\n          family: \"Feather\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 35\n          }\n        })))), React.createElement(Block, {\n          center: true,\n          style: {\n            width: '60%'\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 23\n          }\n        }, React.createElement(TouchableWithoutFeedback, {\n          onPress: function onPress() {\n            return _this.takePicture();\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 162,\n            columnNumber: 27\n          }\n        }, React.createElement(Block, {\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 163,\n            columnNumber: 31\n          }\n        }, React.createElement(Block, {\n          style: {\n            backgroundColor: nowTheme.COLORS.WHITE,\n            width: width / 6,\n            height: height / 12.5,\n            borderColor: nowTheme.COLORS.WHITE,\n            borderWidth: 2,\n            borderRadius: 50\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 35\n          }\n        })))), React.createElement(Block, {\n          style: {\n            width: '20%',\n            justifyContent: 'center'\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 23\n          }\n        }, React.createElement(Block, {\n          center: true,\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 27\n          }\n        }, React.createElement(TouchableOpacity, {\n          onPress: function onPress() {\n            if (_this.state.typeCamera === Camera.Constants.Type.back) {\n              var status_camera = Camera.Constants.Type.front;\n            } else {\n              var status_camera = Camera.Constants.Type.back;\n            }\n\n            _this.setState({\n              typeCamera: status_camera\n            });\n          },\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 31\n          }\n        }, React.createElement(Icon, {\n          size: 30,\n          color: nowTheme.COLORS.WHITE,\n          name: \"refresh-ccw\",\n          family: \"Feather\",\n          __self: _assertThisInitialized(_this),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 190,\n            columnNumber: 39\n          }\n        }))))))));\n      }\n    };\n\n    _this.__savePhoto = function () {\n      console.log(_this.props);\n    };\n\n    _this.retakePicture = function () {\n      _this.setState({\n        capturedImage: false\n      });\n    };\n\n    _this.takePicture = function _callee() {\n      var photo;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (_this.camera) {\n                _context.next = 2;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 2:\n              _context.next = 4;\n              return _regeneratorRuntime.awrap(_this.camera.takePictureAsync());\n\n            case 4:\n              photo = _context.sent;\n\n              _this.setState({\n                capturedImage: true,\n                photoName: photo\n              });\n\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    };\n\n    _this.sendImage = function () {\n      var menu = 'MV';\n\n      if (menu == 'MV') {\n        _this.props.navigation.navigate(_this.state.url_go, {\n          menu: 'MV',\n          photo: _this.state.photoName,\n          piecemark: _this.props.route.params.piecemark\n        });\n      }\n    };\n\n    _this.state = {\n      listData: [],\n      startCamera: true,\n      typeCamera: Camera.Constants.Type.back,\n      isLoading: false,\n      isChanged: false,\n      isLoadData: false,\n      loadButton: false,\n      dataLogin: [],\n      filter: '',\n      filterBy: ['Workpack_No', 'Template'],\n      progress: 0,\n      progressComplete: false,\n      Unique_No: {},\n      capturedImage: false,\n      photoName: '',\n      url_go: ''\n    };\n    return _this;\n  }\n\n  _createClass(Detail, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var status;\n      return _regeneratorRuntime.async(function componentDidMount$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              this.setState({\n                url_go: this.props.route.params.url\n              });\n              this._isMounted = true;\n              _context2.next = 4;\n              return _regeneratorRuntime.awrap(Camera.requestPermissionsAsync());\n\n            case 4:\n              status = _context2.sent;\n\n              if (status === 'granted') {\n                this.setState({\n                  startCamera: true\n                });\n              }\n\n              return _context2.abrupt(\"return\", function () {\n                isMounted = false;\n              });\n\n            case 7:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this._isMounted = false;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.state.startCamera ? this.renderCamera() : null;\n    }\n  }]);\n\n  return Detail;\n}(React.Component);\n\nvar styles = StyleSheet.create({\n  home: {\n    width: width\n  },\n  articles: {\n    paddingVertical: theme.SIZES.BASE,\n    fontFamily: 'montserrat-regular'\n  },\n  container: {\n    flex: 1\n  },\n  camera: {\n    flex: 1\n  },\n  buttonContainer: {\n    flex: 1,\n    backgroundColor: 'transparent',\n    flexDirection: 'row',\n    margin: 20\n  },\n  button: {\n    flex: 0.1,\n    alignSelf: 'flex-end',\n    alignItems: 'center'\n  },\n  text: {\n    fontSize: 18,\n    color: 'white'\n  }\n});\nexport default Detail;","map":{"version":3,"sources":["C:/xampp/htdocs/iym_mobile/SC/iym_mobile/screens/Camera/Camera.js"],"names":["React","AsyncStorage","Block","Input","theme","Camera","Autocomplete","WorkpackList","ContentDetail","GradientHeader","DetailMVList","Button","Icon","Filter","Select","LoadMore","Text","nowTheme","detail_mrir","example_workpack_detail","config","Dimensions","get","height","width","camera","iconColor","gradientColor","Detail","props","_isMounted","renderCamera","state","capturedImage","backgroundColor","flex","uri","photoName","flexDirection","padding","justifyContent","style","COLORS","WHITE","retakePicture","GRAY","sendImage","typeCamera","ref","marginBottom","navigation","goBack","takePicture","borderColor","borderWidth","borderRadius","Constants","Type","back","status_camera","front","setState","__savePhoto","console","log","takePictureAsync","photo","menu","navigate","url_go","piecemark","route","params","listData","startCamera","isLoading","isChanged","isLoadData","loadButton","dataLogin","filter","filterBy","progress","progressComplete","Unique_No","url","requestPermissionsAsync","status","isMounted","Component","styles","StyleSheet","create","home","articles","paddingVertical","SIZES","BASE","fontFamily","container","buttonContainer","margin","button","alignSelf","alignItems","text","fontSize","color"],"mappings":"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","sourcesContent":["import React from \"react\";\n\nimport { \n    ActivityIndicator,\n    AsyncStorage,\n    Dimensions,\n    ImageBackground,\n    StyleSheet, \n    ScrollView,\n    Picker,\n    View, \n    TouchableOpacity,\n    TouchableWithoutFeedback\n} from \"react-native\";\n\nimport { \n    Block, \n    Input, \n    theme, \n} from \"galio-framework\";\n\nimport {Camera} from 'expo-camera';\n\nimport { \n    Autocomplete, \n    WorkpackList, \n    ContentDetail, \n    GradientHeader, \n    DetailMVList, \n    Button, \n    Icon, \n    Filter, \n    Select, \n    LoadMore, \n    Text,\n} from \"../../components\";\n\nimport { nowTheme, detail_mrir, example_workpack_detail, config } from \"../../constants\";\n\nconst { height, width } = Dimensions.get(\"screen\");\n\nlet camera = Camera;\n\nvar iconColor = '#6FBE6F';\nvar gradientColor = ['#0BAB64', '#83D475'];\n\nclass Detail extends React.Component {\n\n    _isMounted = false;\n\n    constructor(props) {\n        super(props);\n        // console.log();\n\n        this.state = {\n          listData: [],\n          \n            startCamera: true,\n            typeCamera: Camera.Constants.Type.back,\n\n            isLoading: false,\n            isChanged: false,\n            isLoadData: false,\n            loadButton: false,\n            dataLogin: [],\n            filter: '',\n            filterBy: ['Workpack_No', 'Template'],\n            progress: 0,\n            progressComplete: false,\n            Unique_No: {},\n            capturedImage: false,\n            photoName: '',\n            url_go: '',\n        };\n    }\n\n    async componentDidMount() {\n\n      this.setState({\n        url_go: this.props.route.params.url,\n\n      })\n\n      this._isMounted = true;\n\n      var status = await Camera.requestPermissionsAsync();\n      if (status === 'granted') {\n          // start the camera\n          this.setState({startCamera: true});\n      }\n\n      return () => { isMounted = false };\n    }\n\n    componentWillUnmount() {\n        this._isMounted = false;\n    }\n\n    render() {\n        return(\n            (this.state.startCamera ? (this.renderCamera()) : (null))\n        );\n    }\n\n    renderCamera = () => {\n\n      if(this.state.capturedImage){\n        return(\n          <Block style={{ backgroundColor: 'transparent', flex: 1, width: '100%', height: '100%' }}>\n            <ImageBackground source={{uri: this.state.photoName && this.state.photoName.uri}} style={{ flex: 1 }}>\n                <Block style={{ flex: 1, flexDirection: 'column', padding: 15, justifyContent: 'flex-end'}}>\n                    <Block row>\n                        <Block style={{style: '50%'}}>\n                            <Button style={{backgroundColor: nowTheme.COLORS.WHITE}} onPress={() => this.retakePicture()}>\n                                <Text\n                                    title={'Re-Take'}\n                                    bold\n                                    color={nowTheme.COLORS.GRAY}\n                                />\n                            </Button>\n                        </Block>\n\n                        <Block style={{style: '50%'}}>\n                            <Button style={{backgroundColor: nowTheme.COLORS.WHITE}} onPress={() => this.sendImage()}>\n                              <Text\n                                  title={'Send'}\n                                  bold\n                                  color={nowTheme.COLORS.GRAY}\n                              />\n                            </Button>\n                        </Block>\n                    </Block>\n                </Block>\n            </ImageBackground>\n        </Block>\n        )\n      } else {\n        return(\n          <Camera style={{flex: 1, justifyContent: 'center'}} type={this.state.typeCamera} ref={ref => { this.camera = ref; }}>\n                \n            <Block style={{flex: 1, justifyContent: 'flex-end', marginBottom: 50}}>\n              <Block center style={{width: width / 1.1}}>\n                  <Block row>\n                      <Block style={{width: '20%', justifyContent: 'center'}}>\n                          <Block center>\n                              <TouchableOpacity\n                                  onPress={() => {\n                                      this.props.navigation.goBack()\n                                  }}\n                              >\n                                  <Icon\n                                      size={40}\n                                      color={nowTheme.COLORS.WHITE}\n                                      name=\"arrow-left-circle\"\n                                      family=\"Feather\"\n                                  />\n                              </TouchableOpacity>\n                          </Block>\n                      </Block>\n\n                      <Block center style={{width: '60%'}}>\n                          <TouchableWithoutFeedback onPress={() => this.takePicture()}>\n                              <Block>\n                                  <Block style={{\n                                      backgroundColor: nowTheme.COLORS.WHITE,\n                                      width: width / 6,\n                                      height: height / 12.5,\n                                      borderColor: nowTheme.COLORS.WHITE,\n                                      borderWidth: 2,\n                                      borderRadius: 50,\n                                  }}>\n                                      \n                                  </Block>\n                              </Block>\n                          </TouchableWithoutFeedback>\n                      </Block>\n\n                      <Block style={{width: '20%', justifyContent: 'center'}}>\n                          <Block center>\n                              <TouchableOpacity\n                                  onPress={() => {\n                                      if(this.state.typeCamera === Camera.Constants.Type.back){\n                                          var status_camera = Camera.Constants.Type.front\n                                      } else {\n                                          var status_camera = Camera.Constants.Type.back\n                                      }\n\n                                      this.setState({typeCamera: status_camera});\n                                  }}>            \n                                      <Icon\n                                          size={30}\n                                          color={nowTheme.COLORS.WHITE}\n                                          name=\"refresh-ccw\"\n                                          family=\"Feather\"\n                                      />                \n                              </TouchableOpacity>\n                          </Block>\n                      </Block>\n                  </Block>\n              </Block>\n            </Block>\n\n          </Camera>\n        )\n      }\n    }\n\n    __savePhoto = () => {\n      console.log(this.props);\n    }\n    \n    retakePicture = () => {\n        this.setState({\n          capturedImage: false\n        });\n    }\n\n    takePicture = async () => {\n        \n        if (!this.camera) return\n            const photo = await this.camera.takePictureAsync()\n            // console.log(photo)\n\n            this.setState({\n                capturedImage: true,\n                photoName: photo,\n            });\n\n    }\n\n    sendImage = () => {\n\n      var menu = 'MV';\n\n      if(menu == 'MV'){\n\n        this.props.navigation.navigate(this.state.url_go, {\n          // list_submit: '',\n          // data_workpack: '',\n          // title: '',\n          // piecemark: '',\n          menu: 'MV',\n          photo: this.state.photoName,\n          piecemark: this.props.route.params.piecemark,\n        })\n\n      }\n\n    }\n}\n\nconst styles = StyleSheet.create({\n  home: {\n    width: width\n  },\n  articles: {\n    // width: width - theme.SIZES.BASE * 2,\n    paddingVertical: theme.SIZES.BASE,\n    // paddingHorizontal: 2,\n    fontFamily: 'montserrat-regular'\n  },\n\n  container: {\n    flex: 1,\n  },\n  camera: {\n    flex: 1,\n  },\n  buttonContainer: {\n    flex: 1,\n    backgroundColor: 'transparent',\n    flexDirection: 'row',\n    margin: 20,\n  },\n  button: {\n    flex: 0.1,\n    alignSelf: 'flex-end',\n    alignItems: 'center',\n  },\n  text: {\n    fontSize: 18,\n    color: 'white',\n  },\n});\n\nexport default Detail;\n"]},"metadata":{},"sourceType":"module"}