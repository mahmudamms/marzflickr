{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\iym_mobile\\\\SC\\\\iym_mobile\\\\screens\\\\Register.js\";\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport AwesomeAlert from 'react-native-awesome-alerts';\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport { AsyncStorage } from \"react-native-web/dist/index\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport Keyboard from \"react-native-web/dist/exports/Keyboard\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport TouchableWithoutFeedback from \"react-native-web/dist/exports/TouchableWithoutFeedback\";\nimport { Block, Checkbox, Text, Button as GaButton, theme } from 'galio-framework';\nimport FlashMessage, { showMessage, hideMessage } from \"react-native-flash-message\";\nimport { Button, Icon, Input } from \"../components\";\nimport { config, Images, nowTheme } from \"../constants\";\n\nvar _Dimensions$get = Dimensions.get('screen'),\n    width = _Dimensions$get.width,\n    height = _Dimensions$get.height;\n\nvar DismissKeyboard = function DismissKeyboard(_ref) {\n  var children = _ref.children;\n  return React.createElement(TouchableWithoutFeedback, {\n    onPress: function onPress() {\n      return Keyboard.dismiss();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 3\n    }\n  }, children);\n};\n\nvar Register = function (_React$Component) {\n  _inherits(Register, _React$Component);\n\n  var _super = _createSuper(Register);\n\n  function Register() {\n    var _this2;\n\n    _classCallCheck(this, Register);\n\n    _this2 = _super.call(this);\n\n    _this2.inputValueUpdate = function (val, prop) {\n      var state = _this2.state;\n      state[prop] = val;\n\n      _this2.setState(state);\n    };\n\n    _this2.LoginForm = function () {\n      var _this3 = this;\n\n      return React.createElement(Block, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 7\n        }\n      }, React.createElement(Block, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 9\n        }\n      }, React.createElement(Block, {\n        width: width * 0.8,\n        style: {\n          marginBottom: 5\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }\n      }, React.createElement(Input, {\n        placeholder: \"Username\",\n        onChangeText: function onChangeText(val) {\n          return _this3.inputValueUpdate(val, 'username');\n        },\n        style: styles.inputs,\n        iconContent: React.createElement(Icon, {\n          size: 16,\n          color: \"#ADB5BD\",\n          name: \"profile-circle\",\n          family: \"NowExtra\",\n          style: styles.inputIcons,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 17\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 13\n        }\n      })), React.createElement(Block, {\n        width: width * 0.8,\n        style: {\n          marginBottom: 5\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }\n      }, React.createElement(Input, {\n        password: true,\n        placeholder: \"Password\",\n        onChangeText: function onChangeText(val) {\n          return _this3.inputValueUpdate(val, 'password');\n        },\n        style: styles.inputs,\n        iconContent: React.createElement(Icon, {\n          size: 16,\n          color: \"#ADB5BD\",\n          name: \"lock\",\n          family: \"Feather\",\n          style: styles.inputIcons,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 17\n          }\n        }),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }\n      }))), React.createElement(Block, {\n        center: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 9\n        }\n      }, React.createElement(Button, {\n        color: !this.state.username || !this.state.password ? \"default\" : \"primary\",\n        round: true,\n        style: styles.createButton,\n        disabled: !this.state.username || !this.state.password,\n        onPress: function onPress() {\n          return _this3.onSubmit();\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontFamily: 'montserrat-bold'\n        },\n        size: 14,\n        color: nowTheme.COLORS.WHITE,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }\n      }, \"Login\"))));\n    };\n\n    _this2.Loading = function () {\n      return React.createElement(Block, {\n        style: {\n          justifyContent: 'center',\n          marginTop: 100,\n          alignItems: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 151,\n          columnNumber: 7\n        }\n      }, React.createElement(ActivityIndicator, {\n        size: \"large\",\n        color: nowTheme.COLORS.PRIMARY,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 9\n        }\n      }));\n    };\n\n    _this2.alertError = function (error_text) {\n      return React.createElement(Block, {\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 7\n        }\n      }, React.createElement(Block, {\n        style: {\n          textAlign: 'center'\n        },\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 9\n        }\n      }, React.createElement(Icon, {\n        size: 50,\n        color: nowTheme.COLORS.ERROR,\n        name: \"warning\",\n        family: \"AntDesign\",\n        style: {\n          textAlign: 'center'\n        },\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 11\n        }\n      })), React.createElement(Block, {\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 9\n        }\n      }, React.createElement(Text, {\n        size: 20,\n        style: {\n          fontFamily: 'montserrat-regular',\n          textAlign: 'center',\n          marginBottom: 5,\n          marginTop: 10\n        },\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 11\n        }\n      }, error_text)), React.createElement(Block, {\n        center: true,\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 9\n        }\n      }, React.createElement(Button, {\n        color: \"default\",\n        onPress: function onPress() {\n          return _this2.setState({\n            showAlert: false\n          });\n        },\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 11\n        }\n      }, React.createElement(Text, {\n        style: {\n          fontFamily: 'montserrat-bold'\n        },\n        size: 14,\n        color: nowTheme.COLORS.WHITE,\n        __self: _assertThisInitialized(_this2),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }\n      }, \"OK\"))));\n    };\n\n    _this2.onSubmit = function _callee() {\n      var options, url;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _this2.setState({\n                isLoading: true\n              });\n\n              _context.prev = 1;\n              options = {\n                method: 'POST',\n                headers: {\n                  'Content-Type': 'application/json'\n                },\n                body: JSON.stringify({\n                  username: _this2.state.username,\n                  password: _this2.state.password\n                })\n              };\n              url = config.config.url + '/api/auth';\n              console.log(url);\n              _context.next = 7;\n              return _regeneratorRuntime.awrap(fetch(url, options).then(function (response) {\n                return response.text();\n              }).then(function (data) {\n                console.log(data);\n                var list_data = data;\n\n                if (list_data.slice(-1) != '}') {\n                  list_data = list_data + '}';\n                }\n\n                console.log(list_data);\n                list_data = JSON.parse(list_data);\n                var status = false;\n\n                if (list_data.status == 'success') {\n                  _this2.setData(list_data);\n                } else {\n                  var status = true;\n\n                  _this2.setState({\n                    errorMessage: list_data.text\n                  });\n                }\n\n                _this2.setState({\n                  isLoading: false,\n                  showAlert: status,\n                  password: ''\n                });\n              }).catch(function (error) {\n                setTimeout(function () {\n                  console.log(error);\n                }, 1000);\n              }));\n\n            case 7:\n              _context.next = 12;\n              break;\n\n            case 9:\n              _context.prev = 9;\n              _context.t0 = _context[\"catch\"](1);\n              console.log(_context.t0);\n\n            case 12:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, null, null, [[1, 9]], Promise);\n    };\n\n    _this2.setData = function _callee2(value) {\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.prev = 0;\n              _context2.next = 3;\n              return _regeneratorRuntime.awrap(AsyncStorage.setItem('data_user', JSON.stringify(value)));\n\n            case 3:\n              _this2.props.navigation.navigate('App');\n\n              _context2.next = 8;\n              break;\n\n            case 6:\n              _context2.prev = 6;\n              _context2.t0 = _context2[\"catch\"](0);\n\n            case 8:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, [[0, 6]], Promise);\n    };\n\n    _this2.toastAlert = function (message, status) {\n      if (_this2.state.isOnline != status) {\n        _this2.setState({\n          isOnline: status\n        });\n\n        return showMessage({\n          message: message,\n          type: status,\n          hideStatusBar: true\n        });\n      }\n    };\n\n    _this2.state = {\n      username: '',\n      password: '',\n      isLoading: true,\n      isOnline: true,\n      showToast: true,\n      showAlert: false,\n      echo: ''\n    };\n    return _this2;\n  }\n\n  _createClass(Register, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var data_user;\n      return _regeneratorRuntime.async(function componentDidMount$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _context3.next = 2;\n              return _regeneratorRuntime.awrap(AsyncStorage.getItem('data_user'));\n\n            case 2:\n              data_user = _context3.sent;\n              data_user = JSON.parse(data_user);\n\n              if (data_user != null) {\n                this.props.navigation.navigate('App');\n              }\n\n              this.setState({\n                isLoading: false,\n                username: '',\n                password: ''\n              });\n\n            case 6:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, null, this, null, Promise);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var isOnline = function isOnline() {\n        var timeout = new Promise(function (resolve, reject) {\n          setTimeout(reject, 2000, 'Request timed out');\n        });\n        var request = fetch(config.config.url);\n        return Promise.race([timeout, request]).then(function (response) {\n          return _this4.toastAlert('Back Online', 'success');\n        }).catch(function (error) {\n          return _this4.toastAlert('No Connection', 'detail');\n        });\n      };\n\n      isOnline();\n      return React.createElement(DismissKeyboard, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 7\n        }\n      }, React.createElement(Block, {\n        flex: true,\n        middle: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 9\n        }\n      }, React.createElement(ImageBackground, {\n        source: Images.LoginBackground,\n        style: styles.imageBackgroundContainer,\n        imageStyle: styles.imageBackground,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }\n      }, React.createElement(Block, {\n        flex: true,\n        middle: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 13\n        }\n      }, React.createElement(Block, {\n        style: styles.registerContainer,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 15\n        }\n      }, React.createElement(Block, {\n        flex: true,\n        space: \"evenly\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 17\n        }\n      }, React.createElement(Block, {\n        flex: 0.7,\n        middle: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 19\n        }\n      }, React.createElement(Block, {\n        middle: true,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 21\n        }\n      }, React.createElement(Block, {\n        style: {\n          paddingBottom: 20\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 21\n        }\n      }, React.createElement(Image, {\n        style: {\n          width: 150,\n          height: 50\n        },\n        source: require(\"../assets/logo.png\"),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 23\n        }\n      })), React.createElement(Text, {\n        style: {\n          fontFamily: 'montserrat-bold',\n          textAlign: 'center'\n        },\n        color: \"#333\",\n        size: 24,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 23\n        }\n      }, \"PCMS Mobile\"))), React.createElement(Block, {\n        flex: 1,\n        middle: true,\n        space: \"between\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 19\n        }\n      }, React.createElement(Block, {\n        center: true,\n        flex: 0.1,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 21\n        }\n      }, React.createElement(Block, {\n        flex: true,\n        space: \"between\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 23\n        }\n      }, this.state.isLoading == true ? this.Loading() : this.LoginForm()))), React.createElement(Block, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 352,\n          columnNumber: 19\n        }\n      }, React.createElement(AwesomeAlert, {\n        show: this.state.showAlert,\n        customView: this.alertError(this.state.errorMessage),\n        closeOnTouchOutside: false,\n        closeOnHardwareBackPress: false,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 21\n        }\n      }))))), React.createElement(FlashMessage, {\n        autoHide: this.state.isOnline == 'success' ? true : false,\n        position: \"top\",\n        animated: true,\n        icon: this.state.isOnline == 'success' ? 'success' : 'info',\n        style: {\n          paddingTop: 60,\n          width: width\n        },\n        hideOnPress: this.state.isOnline == 'success' ? true : false,\n        titleStyle: {\n          fontFamily: 'montserrat-bold'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 13\n        }\n      }))));\n    }\n  }]);\n\n  return Register;\n}(React.Component);\n\nvar styles = StyleSheet.create({\n  imageBackgroundContainer: {\n    width: width,\n    height: height,\n    padding: 0,\n    zIndex: 1\n  },\n  imageBackground: {\n    width: width,\n    height: height\n  },\n  registerContainer: {\n    marginTop: 55,\n    width: width * 0.9,\n    height: height < 600 ? height * 0.6 : height * 0.5,\n    backgroundColor: nowTheme.COLORS.WHITE,\n    borderRadius: 10,\n    shadowColor: nowTheme.COLORS.BLACK,\n    shadowOffset: {\n      width: 0,\n      height: 4\n    },\n    shadowRadius: 8,\n    shadowOpacity: 0.1,\n    elevation: 1,\n    overflow: 'hidden'\n  },\n  socialConnect: {\n    backgroundColor: nowTheme.COLORS.WHITE\n  },\n  socialButtons: {\n    width: 120,\n    height: 40,\n    backgroundColor: '#fff',\n    shadowColor: nowTheme.COLORS.BLACK,\n    shadowOffset: {\n      width: 0,\n      height: 4\n    },\n    shadowRadius: 8,\n    shadowOpacity: 0.1,\n    elevation: 1\n  },\n  socialTextButtons: {\n    color: nowTheme.COLORS.PRIMARY,\n    fontWeight: '800',\n    fontSize: 14\n  },\n  inputIcons: {\n    marginRight: 12,\n    color: nowTheme.COLORS.ICON_INPUT\n  },\n  inputs: {\n    borderWidth: 1,\n    borderColor: '#E3E3E3',\n    borderRadius: 21.5\n  },\n  passwordCheck: {\n    paddingLeft: 2,\n    paddingTop: 6,\n    paddingBottom: 15\n  },\n  createButton: {\n    width: width * 0.6,\n    marginTop: 25,\n    marginBottom: 40\n  },\n  social: {\n    width: theme.SIZES.BASE * 3.5,\n    height: theme.SIZES.BASE * 3.5,\n    borderRadius: theme.SIZES.BASE * 1.75,\n    justifyContent: 'center',\n    marginHorizontal: 10\n  }\n});\nexport default Register;","map":{"version":3,"sources":["C:/xampp/htdocs/iym_mobile/SC/iym_mobile/screens/Register.js"],"names":["React","AwesomeAlert","AsyncStorage","Block","Checkbox","Text","Button","GaButton","theme","FlashMessage","showMessage","hideMessage","Icon","Input","config","Images","nowTheme","Dimensions","get","width","height","DismissKeyboard","children","Keyboard","dismiss","Register","inputValueUpdate","val","prop","state","setState","LoginForm","marginBottom","styles","inputs","inputIcons","username","password","createButton","onSubmit","fontFamily","COLORS","WHITE","Loading","justifyContent","marginTop","alignItems","PRIMARY","alertError","error_text","textAlign","ERROR","showAlert","isLoading","options","method","headers","body","JSON","stringify","url","console","log","fetch","then","response","text","data","list_data","slice","parse","status","setData","errorMessage","catch","error","setTimeout","value","setItem","props","navigation","navigate","toastAlert","message","isOnline","type","hideStatusBar","showToast","echo","getItem","data_user","timeout","Promise","resolve","reject","request","race","LoginBackground","imageBackgroundContainer","imageBackground","registerContainer","paddingBottom","require","paddingTop","Component","StyleSheet","create","padding","zIndex","backgroundColor","borderRadius","shadowColor","BLACK","shadowOffset","shadowRadius","shadowOpacity","elevation","overflow","socialConnect","socialButtons","socialTextButtons","color","fontWeight","fontSize","marginRight","ICON_INPUT","borderWidth","borderColor","passwordCheck","paddingLeft","social","SIZES","BASE","marginHorizontal"],"mappings":"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","sourcesContent":["import React from 'react';\nimport AwesomeAlert from 'react-native-awesome-alerts';\nimport {\n  ActivityIndicator,\n  AsyncStorage,\n  Dimensions,\n  ImageBackground,\n  Image,\n  Keyboard,\n  StatusBar,\n  StyleSheet,\n  TouchableWithoutFeedback,\n} from 'react-native';\n\nimport {\n  Block, \n  Checkbox, \n  Text, \n  Button as GaButton, \n  theme \n} from 'galio-framework';\n\nimport FlashMessage, { showMessage, hideMessage } from \"react-native-flash-message\";\n\nimport { Button, Icon, Input } from '../components';\nimport { config, Images, nowTheme } from '../constants';\n\nconst { width, height } = Dimensions.get('screen');\n\nconst DismissKeyboard = ({ children }) => (\n  <TouchableWithoutFeedback onPress={() => Keyboard.dismiss()}>{children}</TouchableWithoutFeedback>\n);\n\nclass Register extends React.Component {\n\n  constructor() {\n    super();\n    // this.firestoreRef = firebase.firestore().collection('users');\n    this.state = {\n      username: '',\n      password: '',\n      isLoading: true,\n      isOnline: true,\n      showToast: true,\n      showAlert: false,\n      echo: '',\n    };\n  }\n\n  async componentDidMount() {\n\n    // var socket = new WebSocket('ws://10.5.253.201/websocket/websocket.php');\n\n    // socket.onopen = () => socket.send(new Date().toGMTString());\n\n    // socket.onmessage = ({data}) => {\n    //     console.log(data);\n\n    //     this.setState({echo: data});\n\n    //     setTimeout(() => {\n    //         socket.send(new Date().toGMTString());\n    //     }, 3000);\n    // }\n\n    // socket.onerror = (e) => {\n    //   console.log(e);\n    // };\n\n\n\n    var data_user = await AsyncStorage.getItem('data_user');\n    var data_user = JSON.parse(data_user);\n\n    if(data_user != null){\n      this.props.navigation.navigate('App');\n    }\n\n    this.setState({isLoading: false, username: '', password: ''});\n}\n\n  inputValueUpdate = (val, prop) => {\n    const state = this.state;\n    state[prop] = val;\n    this.setState(state);\n  }\n\n  LoginForm = function(){\n    return(\n      <Block>\n        <Block>\n          <Block width={width * 0.8} style={{ marginBottom: 5 }}>\n            <Input\n              placeholder=\"Username\"\n              onChangeText={(val) => this.inputValueUpdate(val, 'username')}\n              style={styles.inputs}\n              iconContent={\n                <Icon\n                  size={16}\n                  color=\"#ADB5BD\"\n                  name=\"profile-circle\"\n                  family=\"NowExtra\"\n                  style={styles.inputIcons}\n                />\n              }\n            />\n          </Block>\n          <Block width={width * 0.8} style={{ marginBottom: 5 }}>\n            <Input\n              password\n              placeholder=\"Password\"\n              onChangeText={(val) => this.inputValueUpdate(val, 'password')}\n              style={styles.inputs}\n              iconContent={\n                <Icon\n                  size={16}\n                  color=\"#ADB5BD\"\n                  name=\"lock\"\n                  family=\"Feather\"\n                  style={styles.inputIcons}\n                />\n              }\n            />\n          </Block>\n        </Block>\n\n        <Block center>\n          <Button \n            color={(!this.state.username || !this.state.password) ? \"default\" : \"primary\" } \n            round \n            style={styles.createButton}\n            disabled={!this.state.username || !this.state.password}\n            onPress={ () => this.onSubmit() }\n          >\n            <Text\n              style={{ fontFamily: 'montserrat-bold' }}\n              size={14}\n              color={nowTheme.COLORS.WHITE}\n            >\n              Login\n            </Text>\n          </Button>\n\n        </Block>\n      </Block>\n    );\n  }\n  \n  Loading = function(){\n    return(\n      <Block style={{ justifyContent: 'center', marginTop: 100, alignItems: 'center' }}>\n        <ActivityIndicator size=\"large\" color={nowTheme.COLORS.PRIMARY} />\n      </Block>\n    );\n  }\n\n  alertError = (error_text) => {\n    return(\n      <Block>\n        <Block \n          style={{ \n            textAlign: 'center',  \n          }}\n        >\n          <Icon\n            size={50}\n            color={nowTheme.COLORS.ERROR}\n            name=\"warning\"\n            family=\"AntDesign\"\n            style={{\n              textAlign: 'center',\n            }}\n          />\n        </Block>\n\n        <Block>\n          <Text\n            size={20}\n            style={{ \n              fontFamily: 'montserrat-regular',\n              textAlign: 'center', \n              marginBottom: 5,\n              marginTop: 10,\n            }}\n          >{error_text}</Text>\n        </Block>\n        \n        <Block center>\n          <Button \n            color=\"default\"\n            onPress={ () => this.setState({showAlert: false}) }\n          >\n            <Text\n              style={{ fontFamily: 'montserrat-bold' }}\n              size={14}\n              color={nowTheme.COLORS.WHITE}\n            >\n              OK\n            </Text>\n          </Button>\n        </Block>\n      </Block>\n    )\n  };\n\n  onSubmit = async() => {\n    this.setState({\n      isLoading: true,\n    });\n\n    try {\n      let options = {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          username: this.state.username,\n          password: this.state.password,\n        })\n      };\n\n      var url = config.config.url + '/api/auth';\n      console.log(url);\n\n      await fetch(url, options)\n      .then(response => response.text())\n      .then(data => {\n\n        console.log(data);\n\n        var list_data = data;\n        \n        if(list_data.slice(-1) != '}'){\n          list_data = list_data + '}';\n        }\n\n        console.log(list_data);\n\n        list_data = JSON.parse(list_data);\n\n        var status = false;\n        if (list_data.status == 'success') {\n          this.setData(list_data);\n        } else {\n          var status = true;\n          // console.log(data.text);\n          this.setState({ errorMessage: list_data.text });\n        }\n\n        this.setState({\n          isLoading: false,\n          showAlert: status,\n          password: '',\n        });\n\n      })\n      .catch((error) => {\n        setTimeout(() => {\n          console.log(error);\n        }, 1000);\n      });\n\n    } catch (e) {\n      console.log(e);\n    }\n  };\n\n  setData = async (value) => {\n    try{\n      await AsyncStorage.setItem('data_user', JSON.stringify(value));  \n      this.props.navigation.navigate('App');\n\n    } catch (e){\n\n    }\n  }\n\n  toastAlert = (message, status) => {\n\n    if(this.state.isOnline != status){\n      this.setState({isOnline: status});\n\n      return(\n        showMessage({\n          message: message,\n          type: status,\n          hideStatusBar: true,\n        })\n      );\n    }\n    \n  };\n\n  render() {   \n    \n    const isOnline = () => {\n      const timeout = new Promise((resolve, reject) => {\n          setTimeout(reject, 2000, 'Request timed out');\n      });\n  \n      const request = fetch(config.config.url);\n  \n      return Promise\n          .race([timeout, request])\n          .then(response => this.toastAlert('Back Online', 'success'))\n          .catch(error => this.toastAlert('No Connection', 'detail'));\n    }\n\n    isOnline();\n\n    return (\n      <DismissKeyboard>\n        <Block flex middle>\n          <ImageBackground\n            source={Images.LoginBackground}\n            style={styles.imageBackgroundContainer}\n            imageStyle={styles.imageBackground}\n          >\n            <Block flex middle>\n              <Block style={styles.registerContainer}>\n                <Block flex space=\"evenly\">\n                  <Block flex={0.7} middle>\n                    <Block middle>\n\n                    <Block style={{paddingBottom: 20}}>\n                      <Image \n                        style={{ width: 150, height: 50 }}\n                        source={require('../assets/logo.png')}\n                      />\n                    </Block>\n\n                      <Text\n                        style={{\n                          fontFamily: 'montserrat-bold',\n                          textAlign: 'center'\n                        }}\n                        color=\"#333\"\n                        size={24}\n                      >\n                        PCMS Mobile\n                      </Text>\n                    </Block>\n                  </Block>\n\n                  <Block flex={1} middle space=\"between\">\n                    <Block center flex={0.1}>\n                      <Block flex space=\"between\">\n                        { this.state.isLoading == true ? this.Loading() : this.LoginForm() }\n                      </Block>\n                    </Block>\n                  </Block>\n\n                  <Block>\n                    <AwesomeAlert\n                      show={this.state.showAlert}\n                      // show={true}\n                      customView={this.alertError(this.state.errorMessage)}\n                      closeOnTouchOutside={false}\n                      closeOnHardwareBackPress={false}\n                    />\n                  </Block>\n\n                </Block>\n              </Block>\n            </Block>\n\n            <FlashMessage \n              autoHide={(this.state.isOnline == 'success') ? true : false }\n              position=\"top\" \n              animated\n              icon={(this.state.isOnline == 'success') ? 'success' : 'info'}\n              style={{paddingTop: 60, width: width}}\n              hideOnPress={(this.state.isOnline == 'success') ? true : false}\n              titleStyle={{fontFamily: 'montserrat-bold'}}\n            />\n\n          </ImageBackground>\n        </Block>\n      </DismissKeyboard>\n\n      \n    );\n  }\n}\n\nconst styles = StyleSheet.create({\n  imageBackgroundContainer: {\n    width: width,\n    height: height,\n    padding: 0,\n    zIndex: 1\n  },\n  imageBackground: {\n    width: width,\n    height: height\n  },\n  registerContainer: {\n    marginTop: 55,\n    width: width * 0.9,\n    height: height < 600 ? height * 0.6 : height * 0.5,\n    backgroundColor: nowTheme.COLORS.WHITE,\n    borderRadius: 10,\n    shadowColor: nowTheme.COLORS.BLACK,\n    shadowOffset: {\n      width: 0,\n      height: 4\n    },\n    shadowRadius: 8,\n    shadowOpacity: 0.1,\n    elevation: 1,\n    overflow: 'hidden'\n  },\n  \n  socialConnect: {\n    backgroundColor: nowTheme.COLORS.WHITE\n    // borderBottomWidth: StyleSheet.hairlineWidth,\n    // borderColor: \"rgba(136, 152, 170, 0.3)\"\n  },\n  socialButtons: {\n    width: 120,\n    height: 40,\n    backgroundColor: '#fff',\n    shadowColor: nowTheme.COLORS.BLACK,\n    shadowOffset: {\n      width: 0,\n      height: 4\n    },\n    shadowRadius: 8,\n    shadowOpacity: 0.1,\n    elevation: 1\n  },\n  socialTextButtons: {\n    color: nowTheme.COLORS.PRIMARY,\n    fontWeight: '800',\n    fontSize: 14\n  },\n  inputIcons: {\n    marginRight: 12,\n    color: nowTheme.COLORS.ICON_INPUT\n  },\n  inputs: {\n    borderWidth: 1,\n    borderColor: '#E3E3E3',\n    borderRadius: 21.5\n  },\n  passwordCheck: {\n    paddingLeft: 2,\n    paddingTop: 6,\n    paddingBottom: 15\n  },\n  createButton: {\n    width: width * 0.6,\n    marginTop: 25,\n    marginBottom: 40\n  },\n  social: {\n    width: theme.SIZES.BASE * 3.5,\n    height: theme.SIZES.BASE * 3.5,\n    borderRadius: theme.SIZES.BASE * 1.75,\n    justifyContent: 'center',\n    marginHorizontal: 10\n  }\n});\n\nexport default Register;\n"]},"metadata":{},"sourceType":"module"}